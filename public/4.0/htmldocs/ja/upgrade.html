<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>第5章 以前の Netatalk バージョンからのアップグレード</title>
    <link rel="stylesheet" type="text/css" href="/css/netatalk.css" />
    <meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" />
    <link rel="home" href="index.html" title="Netatalk マニュアル" />
    <link rel="up" href="index.html" title="Netatalk マニュアル" />
    <link rel="prev" href="appletalk.html" title="第4章 AppleTalk" />
    <link rel="next" href="man-pages.html" title="第6章 マニュアルページ" />
  </head>
  <body>
    <div xmlns="" id="header">
        <div id="logo"></div>
        <div id="menlinks">
          <a href="/" title="Netatalk ホームに戻る">[main]</a>
          <a href="/docs" title="Netatalk Wiki">[wiki]</a>
          <a href="/documentation.html" title="Netatalk マニュアル">[documentation]</a>
          <a href="/download.html" title="Netatalk をダウンロード">[downloads]</a>
          <a href="/support.html" title="お問い合わせ">[support]</a>
          <a href="/links.html" title="Netatalk 関連リンク">[links]</a>
          <img src="/gfx/end.gif" alt="" width="125" height="7" />
        </div>
    </div>
    <div xmlns="" class="navheader" align="center">Netatalk 4.0.4</div>
<div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">第5章 以前の Netatalk バージョンからのアップグレード</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="appletalk.html">戻る</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="man-pages.html">次へ</a></td></tr></table><hr /></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="upgrade"></a>第5章 以前の Netatalk バージョンからのアップグレード</h1></div><div><div class="author"><h3 class="author"><span class="firstname">Frank</span> <span class="surname">Lahm</span></h3></div></div><div><div class="author"><h3 class="author"><span class="firstname">Eiichirou</span> <span class="surname">UDA（日本語訳）</span></h3></div></div></div></div><div class="toc"><p><strong>目次</strong></p><dl class="toc"><dt><span class="sect1"><a href="upgrade.html#id-1.8.3">Netatalk 3 からのアップグレード</a></span></dt><dt><span class="sect1"><a href="upgrade.html#id-1.8.4">Netatalk 2 からのアップグレード</a></span></dt><dd><dl><dt><span class="sect2"><a href="upgrade.html#id-1.8.4.3">設定まわりの変更点</a></span></dt><dt><span class="sect2"><a href="upgrade.html#id-1.8.4.4">新たな AppleDouble バックエンド</a></span></dt><dt><span class="sect2"><a href="upgrade.html#id-1.8.4.5">そのほかの主要な変更点</a></span></dt><dt><span class="sect2"><a href="upgrade.html#id-1.8.4.6">アップグレード手段</a></span></dt><dt><span class="sect2"><a href="upgrade.html#id-1.8.4.7">新旧設定ファイル名対照表</a></span></dt><dt><span class="sect2"><a href="upgrade.html#id-1.8.4.8">新旧オプション対応表</a></span></dt></dl></dd></dl></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id-1.8.3"></a>Netatalk 3 からのアップグレード</h2></div></div></div><p>Netatalk 3 から Netatalk 4
    へのアップグレードは簡単。古いバージョンの上に新しいバージョンをインストールするだけ。Netatalk 4 での主要な変更点は、Netatalk 2
    と Netatalk 3 の間で削除された AppleTalk サービス、構成ファイル、およびツールを一部復活させたことである。</p><p>主に、<span class="command"><strong><a class="link" href="atalkd.8.html" title="atalkd">atalkd</a></strong></span> デーモンと
    <code class="filename"><a class="link" href="atalkd.conf.5.html" title="atalkd.conf">atalkd.conf</a></code>
    設定ファイル、また <span class="command"><strong><a class="link" href="papd.8.html" title="papd">papd</a></strong></span> デーモンと
    <code class="filename"><a class="link" href="papd.conf.5.html" title="papd.conf">papd.conf</a></code>
    設定ファイルが追加された。</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id-1.8.4"></a>Netatalk 2 からのアップグレード</h2></div></div></div><p>Netatalk 4 の主要な変更は以下の3点：</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>これまでの AFP 設定ファイルすべてが廃止され、AFP
          に関してのほぼ全オプション名を変更し、新しい設定ファイルを追加した： <code class="filename"><a class="link" href="afp.conf.5.html" title="afp.conf">afp.conf</a></code> と <code class="filename"><a class="link" href="extmap.conf.5.html" title="extmap.conf">extmap.conf</a></code></p></li><li class="listitem"><p>マックのメタデータとリソースフォークをファイルシステムの拡張属性に保存する <code class="option">appledouble =
          ea</code> という新しい AppleDouble のバックエンド。</p></li><li class="listitem"><p>AppleTalk トランスポート層はデフォルトで無効になっている。非常に古い Mac で Netatalk
          を使用する場合は、<code class="filename">afp.conf</code> にて <code class="option">appletalk =
          yes</code> オプションで有効にしてください。 それから、<span class="command"><strong>netatalk</strong></span>
          を起動する前に <span class="command"><strong>atalkd</strong></span> デーモンを立ち上げてください。</p></li></ol></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="id-1.8.4.3"></a>設定まわりの変更点</h3></div></div></div><p><code class="filename">afp.conf</code></p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>（Samba の smb.conf のような） "ini" スタイルの構文</p></li><li class="listitem"><p>一つで設定すべてを指示するという点： AFP
            及びボリュームの構成を共に一つのファイルで設定することになるという点</p></li><li class="listitem"><p><code class="filename">afpd.conf</code>、
            <code class="filename">netatalk.conf</code>、
            <code class="filename">AppleVolumes.default</code> 及び、
            <code class="filename">afp_ldap.conf</code> の廃止</p></li></ul></div><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">警告</h3><p>ほとんどのオプション名は変更されたので、 詳細については <a class="link" href="afp.conf.5.html" title="afp.conf">afp.conf</a> の manpage 全体を読むこと</p></div><p><code class="filename">extmap.conf</code></p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Classic Mac OS type/creator と拡張子の関連付け</p></li><li class="listitem"><p>2.x
            とは異なり、マッピングはデフォルトで無効になっている。有効にするには、ファイル内の行のコメントを解除する</p></li><li class="listitem"><p><code class="filename">AppleVolumes.system</code> の廃止</p></li></ul></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="id-1.8.4.4"></a>新たな AppleDouble バックエンド</h3></div></div></div><p>マックのメタデータとリソースフォークをファイルシステムの拡張属性に保存する <code class="option">appledouble =
      ea</code> という新しい AppleDouble のバックエンド。</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>デフォルトのバックエンドである（！）</p></li><li class="listitem"><p>拡張属性のあるファイルシステムが必須。 さもなくば <code class="option">appledouble = v2</code>
            オプションの使用が代替となる</p></li><li class="listitem"><p><code class="option">appledouble = v2</code> から <code class="option">appledouble =
            ea</code> ファイルシステムへの変換はアクセス時、その都度行われる（無効にすることも可能）</p></li><li class="listitem"><p>一括で変換する場合 <span class="command"><strong><a class="link" href="dbd.1.html" title="dbd">dbd</a></strong></span> を用いることができる</p></li></ul></div><p>実装の詳細：</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Mac のメタデータ（すなわち FinderInfo、AFP フラグ、コメント、CNID）は
            “<code class="filename">org.netatalk.Metadata</code>”
            という名前の拡張属性に保存される。</p></li><li class="listitem"><p>マックのリソースフォークは：</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>ZFS を用いた Solaris では
                  “<code class="filename">org.netatalk.ResourceFork</code>”
                  という拡張属性に保存される。</p></li><li class="listitem"><p>ないしは、ファイル名が “<code class="filename">file</code>”
                  であるものに対して各々、“<code class="filename">._file</code>” という名の別の
                  AppleDouble ファイルに保存される。</p></li></ul></div></li><li class="listitem"><p>"._" ファイルのフォーマットは、 たとえそのファイルシステムに CIFS サーバー (Samba)
            経由でアクセスした場合でも、 マックの CIFS クライアントが想定しているフォーマットと全く同じである。
            なので、データを失う危険性（リソースもメタデータも）なく、 マックから同じデータセットに AFP 経由と CIFS
            経由と並行してアクセスすることができる。 一方、ウィンドウズから当該データセットに CIFS 経由でアクセスした場合は、未だに
            “<code class="filename">file</code>” と “<code class="filename">file</code>”
            の紐付けを失うこととなるであろう（非 ZFS ファイルシステムの場合。上記参照）。 今のところその点で拡張 Samba VFS
            モジュールが必要である（改善中）。</p></li></ul></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="id-1.8.4.5"></a>そのほかの主要な変更点</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>AFP 及び CNID デーモンの起動・再起動を担う新しいサービスコントローラデーモン <a class="link" href="netatalk.8.html" title="netatalk">netatalk</a> の導入。バンドルされているスタートスクリプトが
            すべて更新されているため、自分の環境でもアップデートされているか確認する必要あり！</p></li><li class="listitem"><p>CNID データベースはデフォルトで <code class="filename">$prefix/var/netatalk/CNID/</code>
            以下に保存される。以前は各共有ボリュームにて保存されていた。</p></li><li class="listitem"><p>Netatalk 2.x のボリュームオプション “usedots” 及び “upriv”
            はデフォルトとなった。</p></li><li class="listitem"><p>SLP 及び AFP プロキシのサポート機能は削除。</p></li></ul></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="id-1.8.4.6"></a>アップグレード手段</h3></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Netatalk 2.x を停止する</p></li><li class="listitem"><p>Netatalk 4 をインストールする</p></li><li class="listitem"><p>設定 <code class="option">afp.conf</code> 及び <code class="option">extmap.conf</code>
            を自力で書き換える</p></li><li class="listitem"><p><span class="command"><strong>afpd</strong></span> と <span class="command"><strong>cnid_metad</strong></span>
            の代わりに <span class="command"><strong><a class="link" href="netatalk.8.html" title="netatalk">netatalk</a></strong></span> 起動にのみ関連している、
            Netatalk 起動スクリプトを更新するか、標準の起動スクリプトに置き換える。</p></li><li class="listitem"><p><code class="filename">afp_voluuid.conf</code> 及び
            <code class="filename">afp_signature.conf</code> を localstate ディレクトリ
            （デフォルトでは <code class="filename">$prefix/var/netatalk/</code>）、に移動。 正しいパスを見つけるために
            <span class="command"><strong>afpd -v</strong></span> コマンドが有用</p></li><li class="listitem"><p>Netatalk 4 を起動する</p></li></ol></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="id-1.8.4.7"></a>新旧設定ファイル名対照表</h3></div></div></div><div class="table"><a id="id-1.8.4.7.2.1"></a><p class="title"><strong>表5.1 設定ファイル名対照表</strong></p><div class="table-contents"><table class="table" summary="設定ファイル名対照表" border="1"><colgroup><col class="c1" /><col class="c2" /><col class="c3" /></colgroup><thead><tr><th>旧ファイル名</th><th>新ファイル名</th><th>注記</th></tr></thead><tbody><tr><td>-</td><td><code class="filename">etc/afp.conf</code></td><td>新しい "ini" 様式のフォーマット</td></tr><tr><td>-</td><td><code class="filename">etc/extmap.conf</code></td><td>netatalk 3.0.2 から採用</td></tr><tr><td><code class="filename">etc/netatalk/afp_signature.conf</code></td><td><code class="filename">var/netatalk/afp_signature.conf</code></td><td>厳密には $localstatedir に移動</td></tr><tr><td><code class="filename">etc/netatalk/afp_voluuid.conf</code></td><td><code class="filename">var/netatalk/afp_voluuid.conf</code></td><td>厳密には $localstatedir に移動</td></tr><tr><td><code class="filename">etc/netatalk/netatalk.conf</code>
                (<code class="filename">/etc/default/netatalk</code>)</td><td>-</td><td>廃止</td></tr><tr><td><code class="filename">etc/netatalk/afpd.conf</code></td><td>-</td><td>廃止</td></tr><tr><td><code class="filename">etc/netatalk/afp_ldap.conf</code></td><td>-</td><td>廃止</td></tr><tr><td><code class="filename">etc/netatalk/AppleVolumes.default</code></td><td>-</td><td>廃止</td></tr><tr><td><code class="filename">etc/netatalk/AppleVolumes.system</code></td><td>-</td><td>廃止</td></tr><tr><td><code class="filename">~/.AppleVolumes</code></td><td>-</td><td>廃止</td></tr></tbody></table></div></div><p><br class="table-break" /></p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="id-1.8.4.8"></a>新旧オプション対応表</h3></div></div></div><div class="table"><a id="id-1.8.4.8.2.1"></a><p class="title"><strong>表5.2 netatalk.conf (/etc/default/netatalk) から afp.conf</strong></p><div class="table-contents"><table class="table" summary="netatalk.conf (/etc/default/netatalk) から afp.conf" border="1"><colgroup><col class="c1" /><col class="c2" /><col class="c3" /><col class="c4" /><col class="c5" /><col class="c6" /></colgroup><thead><tr><th>旧 netatalk.conf</th><th>新 afp.conf</th><th>旧デフォルト値</th><th>新デフォルト値</th><th>セクション</th><th>詳細</th></tr></thead><tbody><tr><td>ATALK_NAME</td><td>hostname</td><td>-</td><td>-</td><td>(G)</td><td>デフォルトでは gethostname() を使用</td></tr><tr><td>ATALK_UNIX_CHARSET</td><td>unix charset</td><td><span class="bold"><strong>LOCALE</strong></span></td><td><span class="bold"><strong>UTF8</strong></span></td><td>(G)</td><td>-</td></tr><tr><td>ATALK_MAC_CHARSET</td><td>mac charset</td><td>MAC_ROMAN</td><td>MAC_ROMAN</td><td>(G)/(V)</td><td>-</td></tr><tr><td>CNID_METAD_RUN</td><td>-</td><td>yes</td><td>-</td><td>-</td><td>netatalk(8) で制御</td></tr><tr><td>AFPD_RUN</td><td>-</td><td>yes</td><td>-</td><td>-</td><td>netatalk(8) で制御</td></tr><tr><td>AFPD_MAX_CLIENTS</td><td>max connections</td><td><span class="bold"><strong>20</strong></span></td><td><span class="bold"><strong>200</strong></span></td><td>(G)</td><td>-</td></tr><tr><td>AFPD_UAMLIST</td><td>uam list</td><td>-U uams_dhx.so,uams_dhx2.so</td><td>uams_dhx.so uams_dhx2.so</td><td>(G)</td><td>-</td></tr><tr><td>AFPD_GUEST</td><td>guest account</td><td>nobody</td><td>nobody</td><td>(G)</td><td>-</td></tr><tr><td>CNID_CONFIG</td><td>log level</td><td>-l log_note</td><td>cnid:note</td><td>(G)</td><td>-</td></tr><tr><td>CNID_CONFIG</td><td>log file</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>ATALKD_RUN</td><td>-</td><td>no</td><td>-</td><td>-</td><td>独自起動スクリプトで制御</td></tr><tr><td>PAPD_RUN</td><td>-</td><td>no</td><td>-</td><td>-</td><td>独自起動スクリプトで制御</td></tr><tr><td>TIMELORD_RUN</td><td>-</td><td>no</td><td>-</td><td>-</td><td>独自起動スクリプトで制御</td></tr><tr><td>A2BOOT_RUN</td><td>-</td><td>no</td><td>-</td><td>-</td><td>独自起動スクリプトで制御</td></tr><tr><td>ATALK_BGROUND</td><td>-</td><td>no</td><td>-</td><td>-</td><td>独自起動スクリプトで制御</td></tr><tr><td>ATALK_ZONE</td><td>ddp zone</td><td>-</td><td>-</td><td>(G)</td><td>4.0.0で復活</td></tr></tbody></table></div></div><p><br class="table-break" /></p><div class="table"><a id="id-1.8.4.8.2.2"></a><p class="title"><strong>表5.3 afpd.conf から afp.conf</strong></p><div class="table-contents"><table class="table" summary="afpd.conf から afp.conf" border="1"><colgroup><col class="c1" /><col class="c2" /><col class="c3" /><col class="c4" /><col class="c5" /><col class="c6" /></colgroup><thead><tr><th>旧 afpd.conf</th><th>新 afp.conf</th><th>旧デフォルト値</th><th>新デフォルト値</th><th>セクション</th><th>詳細</th></tr></thead><tbody><tr><td>一番目のフィールド（"-" あるいは“サーバー名”)</td><td>hostname</td><td>-</td><td>-</td><td>(G)</td><td>デフォルトでは gethostname() を使用</td></tr><tr><td>-uamlist</td><td>uam list</td><td>uams_dhx.so,uams_dhx2.so</td><td>uams_dhx.so uams_dhx2.so</td><td>(G)</td><td>-</td></tr><tr><td>-nozeroconf</td><td>zeroconf</td><td>-</td><td>（サポートされていれば） yes</td><td>(G)</td><td>-</td></tr><tr><td>-advertise_ssh</td><td>advertise ssh</td><td>-</td><td>no</td><td>(G)</td><td>-</td></tr><tr><td>-[no]savepassword</td><td>save password</td><td>-savepassword</td><td>yes</td><td>(G)</td><td>-</td></tr><tr><td>-[no]setpassword</td><td>set password</td><td>-nosetpassword</td><td>no</td><td>(G)</td><td>-</td></tr><tr><td>-client_polling</td><td>client polling</td><td>-</td><td>no</td><td>(G)</td><td>-</td></tr><tr><td>-hostname</td><td>hostname</td><td>-</td><td>-</td><td>(G)</td><td>デフォルトでは gethostname() を使用</td></tr><tr><td>-loginmesg</td><td>login message</td><td>-</td><td>-</td><td>(G)/(V)</td><td>-</td></tr><tr><td>-guestname</td><td>guest account</td><td>nobody</td><td>nobody</td><td>(G)</td><td>-</td></tr><tr><td>-passwdfile</td><td>passwd file</td><td>afppasswd</td><td>afppasswd</td><td>(G)</td><td>-</td></tr><tr><td>-passwdminlen</td><td>passwd minlen</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>-tickleval</td><td>tickleval</td><td>30</td><td>30</td><td>(G)</td><td>-</td></tr><tr><td>-timeout</td><td>timeout</td><td>4</td><td>4</td><td>(G)</td><td>-</td></tr><tr><td>-sleep</td><td>sleep time</td><td>10</td><td>10</td><td>(G)</td><td>-</td></tr><tr><td>-dsireadbuf</td><td>dsireadbuf</td><td>12</td><td>12</td><td>(G)</td><td>-</td></tr><tr><td>-server_quantum</td><td>server quantum</td><td><span class="bold"><strong>303840</strong></span></td><td><span class="bold"><strong>1048576</strong></span></td><td>(G)</td><td>-</td></tr><tr><td>-volnamelen</td><td>volnamelen</td><td>80</td><td>80</td><td>(G)</td><td>-</td></tr><tr><td>-setuplog</td><td>log level</td><td>default log_note</td><td>default:note</td><td>(G)</td><td>-</td></tr><tr><td>-setuplog</td><td>log file</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>-admingroup</td><td>admingroup</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>-k5service</td><td>k5 service</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>-k5realm</td><td>k5 realm</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>-k5keytab</td><td>k5 keytab</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>-uampath</td><td>uam path</td><td><span class="bold"><strong>etc/netatalk/uams/</strong></span></td><td><span class="bold"><strong>lib/netatalk/</strong></span></td><td>(G)</td><td>厳密には $libdir に移動</td></tr><tr><td>-ipaddr</td><td>afp listen</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>-cnidserver</td><td>cnid server</td><td>localhost:4700</td><td>localhost:4700</td><td>(G)/(V)</td><td>-</td></tr><tr><td>-port</td><td>port</td><td>548</td><td>548</td><td>(G)</td><td>-</td></tr><tr><td>-signature</td><td>signature</td><td>auto</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>-fqdn</td><td>fqdn</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>-unixcodepage</td><td>unix charset</td><td><span class="bold"><strong>LOCALE</strong></span></td><td><span class="bold"><strong>UTF8</strong></span></td><td>(G)</td><td>-</td></tr><tr><td>-maccodepage</td><td>mac charset</td><td>MAC_ROMAN</td><td>MAC_ROMAN</td><td>(G)/(V)</td><td>-</td></tr><tr><td>-closevol</td><td>close vol</td><td>-</td><td>no</td><td>(G)</td><td>-</td></tr><tr><td>-ntdomain</td><td>nt domain</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>-ntseparator</td><td>nt separator</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>-dircachesize</td><td>dircachesize</td><td>8192</td><td>8192</td><td>(G)</td><td>-</td></tr><tr><td>-tcpsndbuf</td><td>tcpsndbuf</td><td>-</td><td>-</td><td>(G)</td><td>OS のデフォルト</td></tr><tr><td>-tcprcvbuf</td><td>tcprcvbuf</td><td>-</td><td>-</td><td>(G)</td><td>OS のデフォルト</td></tr><tr><td>-fcelistener</td><td>fce listener</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>-fcecoalesce</td><td>fce coalesce</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>-fceevents</td><td>fce events</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>-fceholdfmod</td><td>fce holdfmod</td><td>60</td><td>60</td><td>(G)</td><td>-</td></tr><tr><td>-mimicmodel</td><td>mimic model</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>-adminauthuser</td><td>admin auth user</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>-noacl2maccess</td><td>map acls</td><td>-</td><td>rights</td><td>(G)</td><td>-</td></tr><tr><td>-[no]tcp</td><td>-</td><td>-tcp</td><td>-</td><td>-</td><td>常に TCP を有効</td></tr><tr><td>-[no]ddp</td><td>appletalk</td><td>-ddp</td><td>no</td><td>(G)</td><td>4.0.0で復活</td></tr><tr><td>-[no]transall</td><td>-</td><td>-transall</td><td>-</td><td>-</td><td>常に TCP を有効</td></tr><tr><td>-nodebug</td><td>-</td><td>-</td><td>-</td><td>-</td><td>廃止</td></tr><tr><td>-[no]slp</td><td>-</td><td>-noslp</td><td>-</td><td>-</td><td>SLP サポートが廃止</td></tr><tr><td>-[no]uservolfirst</td><td>-</td><td>-nouservolfirst</td><td>-</td><td>-</td><td>uservol が廃止</td></tr><tr><td>-[no]uservol</td><td>-</td><td>-uservol</td><td>-</td><td>-</td><td>uservol が廃止</td></tr><tr><td>-proxy</td><td>-</td><td>-</td><td>-</td><td>-</td><td>廃止</td></tr><tr><td>-defaultvol</td><td>-</td><td>AppleVolumes.default</td><td>-</td><td>-</td><td>afp.conf のみ</td></tr><tr><td>-systemvol</td><td>-</td><td>AppleVolumes.system</td><td>-</td><td>-</td><td>extmap.conf のみ</td></tr><tr><td>-loginmaxfail</td><td>-</td><td>-</td><td>-</td><td>-</td><td>そもそも最初からサポートされていない</td></tr><tr><td>-unsetuplog</td><td>-</td><td>-</td><td>-</td><td>-</td><td>廃止</td></tr><tr><td>-authprintdir</td><td>-</td><td>-</td><td>-</td><td>-</td><td>CAP スタイル認証印刷が廃止</td></tr><tr><td>-ddpaddr</td><td>ddp address</td><td>0.0</td><td>0.0</td><td>(G)</td><td>4.0.0で復活</td></tr><tr><td>-[no]icon</td><td>legacy icon</td><td>-noicon</td><td>-</td><td>(G)</td><td>4.0.2で復活</td></tr><tr><td>-keepsessions</td><td>-</td><td>-</td><td>-</td><td>-</td><td>廃止。kill -HUP を使用</td></tr></tbody></table></div></div><p><br class="table-break" /></p><div class="table"><a id="id-1.8.4.8.2.3"></a><p class="title"><strong>表5.4 from afp_ldap.conf から afp.conf</strong></p><div class="table-contents"><table class="table" summary="from afp_ldap.conf から afp.conf" border="1"><colgroup><col class="c1" /><col class="c2" /><col class="c3" /><col class="c4" /><col class="c5" /><col class="c6" /></colgroup><thead><tr><th>旧 afp_ldap.conf</th><th>新 afp.conf</th><th>旧デフォルト値</th><th>新デフォルト値</th><th>セクション</th><th>詳細</th></tr></thead><tbody><tr><td>ldap_server</td><td>ldap server</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>ldap_auth_method</td><td>ldap auth method</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>ldap_auth_dn</td><td>ldap auth dn</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>ldap_auth_pw</td><td>ldap auth pw</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>ldap_userbase</td><td>ldap userbase</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>ldap_userscope</td><td>ldap userscope</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>ldap_groupbase</td><td>ldap groupbase</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>ldap_groupscope</td><td>ldap groupscope</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>ldap_uuid_attr</td><td>ldap uuid attr</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>ldap_uuid_string</td><td>ldap uuid string</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>ldap_name_attr</td><td>ldap name attr</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>ldap_group_attr</td><td>ldap group attr</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr></tbody></table></div></div><p><br class="table-break" /></p><div class="table"><a id="id-1.8.4.8.2.4"></a><p class="title"><strong>表5.5 AppleVolumes.* から afp.conf</strong></p><div class="table-contents"><table class="table" summary="AppleVolumes.* から afp.conf" border="1"><colgroup><col class="c1" /><col class="c2" /><col class="c3" /><col class="c4" /><col class="c5" /><col class="c6" /></colgroup><thead><tr><th>旧 AppleVolumes.*</th><th>新 afp.conf</th><th>旧デフォルト値</th><th>新デフォルト値</th><th>セクション</th><th>詳細</th></tr></thead><tbody><tr><td>（ピリオドで始まる行）</td><td>-</td><td>-</td><td>-</td><td>-</td><td>extmap.conf で使用する</td></tr><tr><td>:DEFAULT:</td><td>-</td><td>options:upriv,usedots</td><td>-</td><td>-</td><td>"vol preset" を使用する</td></tr><tr><td>一番目のフィールド ("~")</td><td>-</td><td>-</td><td>-</td><td>-</td><td>[Homes] セクションを使用する</td></tr><tr><td>一番目のフィールド ("/path")</td><td>path</td><td>-</td><td>-</td><td>(V)</td><td>-</td></tr><tr><td>二番目のフィールド</td><td>-</td><td>-</td><td>-</td><td>-</td><td>セクション名を使用する</td></tr><tr><td>allow:</td><td>valid users</td><td>-</td><td>-</td><td>(V)</td><td>-</td></tr><tr><td>deny:</td><td>invalid users</td><td>-</td><td>-</td><td>(V)</td><td>-</td></tr><tr><td>rwlist:</td><td>rwlist</td><td>-</td><td>-</td><td>(V)</td><td>-</td></tr><tr><td>rolist:</td><td>rolist</td><td>-</td><td>-</td><td>(V)</td><td>-</td></tr><tr><td>volcharset:</td><td>vol charset</td><td><span class="bold"><strong>UTF8</strong></span></td><td><span class="bold"><strong>（unix charset
                と同じ）</strong></span></td><td>(G)/(V)</td><td>-</td></tr><tr><td>maccharset:</td><td>mac charset</td><td>MAC_ROMAN</td><td>MAC_ROMAN</td><td>(G)/(V)</td><td>-</td></tr><tr><td>veto:</td><td>veto files</td><td>-</td><td>-</td><td>(V)</td><td>-</td></tr><tr><td>cnidscheme:</td><td>cnid scheme</td><td>dbd</td><td>dbd</td><td>(V)</td><td>-</td></tr><tr><td>casefold:</td><td>casefold</td><td>-</td><td>-</td><td>(V)</td><td>-</td></tr><tr><td>adouble:</td><td>appledouble</td><td><span class="bold"><strong>v2</strong></span></td><td><span class="bold"><strong>ea</strong></span></td><td>(V)</td><td>v1、osx 及び sfm は廃止</td></tr><tr><td>cnidserver:</td><td>cnid server</td><td>localhost:4700</td><td>localhost:4700</td><td>(G)/(V)</td><td>-</td></tr><tr><td>dbpath:</td><td>vol dbpath</td><td><span class="bold"><strong>（ボリュームディレクトリ）</strong></span></td><td><span class="bold"><strong>$prefix/var/netatalk/CNID/</strong></span></td><td>(G)</td><td>厳密には $localstatedir に移動</td></tr><tr><td>umask:</td><td>umask</td><td>0000</td><td>0000</td><td>(V)</td><td>-</td></tr><tr><td>dperm:</td><td>directory perm</td><td>0000</td><td>0000</td><td>(V)</td><td>-</td></tr><tr><td>fperm:</td><td>file perm</td><td>0000</td><td>0000</td><td>(V)</td><td>-</td></tr><tr><td>password:</td><td>password</td><td>-</td><td>-</td><td>(V)</td><td>-</td></tr><tr><td>root_preexec:</td><td>root preexec</td><td>-</td><td>-</td><td>(V)</td><td>-</td></tr><tr><td>preexec:</td><td>preexec</td><td>-</td><td>-</td><td>(V)</td><td>-</td></tr><tr><td>root_postexec:</td><td>root postexec</td><td>-</td><td>-</td><td>(V)</td><td>-</td></tr><tr><td>postexec:</td><td>postexec</td><td>-</td><td>-</td><td>(V)</td><td>-</td></tr><tr><td>allowed_hosts:</td><td>hosts allow</td><td>-</td><td>-</td><td>(V)</td><td>-</td></tr><tr><td>denied_hosts:</td><td>hosts deny</td><td>-</td><td>-</td><td>(V)</td><td>-</td></tr><tr><td>ea:</td><td>ea</td><td>auto</td><td>auto</td><td>(V)</td><td>-</td></tr><tr><td>volsizelimit:</td><td>vol size limit</td><td>-</td><td>-</td><td>(V)</td><td>4.0.0で復活</td></tr><tr><td>perm:</td><td>-</td><td>-</td><td>-</td><td>-</td><td>"directory perm" 及び "file perm" を使用する</td></tr><tr><td>forceuid:</td><td>-</td><td>-</td><td>-</td><td>-</td><td>廃止</td></tr><tr><td>forcegid:</td><td>-</td><td>-</td><td>-</td><td>-</td><td>廃止</td></tr><tr><td>options:ro</td><td>read only</td><td>-</td><td>no</td><td>(V)</td><td>-</td></tr><tr><td>options:invisibledots</td><td>invisible dots</td><td>-</td><td>no</td><td>(V)</td><td>-</td></tr><tr><td>options:nostat</td><td>stat vol</td><td>-</td><td>yes</td><td>(V)</td><td>-</td></tr><tr><td>options:preexec_close</td><td>preexec close</td><td>-</td><td>no</td><td>(V)</td><td>-</td></tr><tr><td>options:root_preexec_close</td><td>root preexec close</td><td>-</td><td>no</td><td>(V)</td><td>-</td></tr><tr><td>options:upriv</td><td>unix priv</td><td>-</td><td>yes</td><td>(V)</td><td>-</td></tr><tr><td>options:nodev</td><td>cnid dev</td><td>-</td><td>yes</td><td>(V)</td><td>-</td></tr><tr><td>options:illegalseq</td><td>illegal seq</td><td>-</td><td>no</td><td>(V)</td><td>-</td></tr><tr><td>options:tm</td><td>time machine</td><td>-</td><td>no</td><td>(V)</td><td>-</td></tr><tr><td>options:searchdb</td><td>search db</td><td>-</td><td>no</td><td>(V)</td><td>-</td></tr><tr><td>options:nonetids</td><td>network ids</td><td>-</td><td>yes</td><td>(V)</td><td>-</td></tr><tr><td>options:noacls</td><td>acls</td><td>-</td><td>yes</td><td>(V)</td><td>-</td></tr><tr><td>options:followsymlinks</td><td>follow symlinks</td><td>-</td><td>no</td><td>(V)</td><td>-</td></tr><tr><td>options:nohex</td><td>-</td><td>-</td><td>-</td><td>-</td><td>":2f" は ":" に自動変換される</td></tr><tr><td>options:usedots</td><td>-</td><td>-</td><td>-</td><td>-</td><td>":2e" は "." に自動変換される</td></tr><tr><td>options:nofileid</td><td>-</td><td>-</td><td>-</td><td>-</td><td>廃止</td></tr><tr><td>options:prodos</td><td>prodos</td><td>-</td><td>no</td><td>(V)</td><td>4.0.0で復活</td></tr><tr><td>options:mswindows</td><td>-</td><td>-</td><td>-</td><td>-</td><td>廃止</td></tr><tr><td>options:crlf</td><td>-</td><td>-</td><td>-</td><td>-</td><td>廃止</td></tr><tr><td>options:noadouble</td><td>-</td><td>-</td><td>-</td><td>-</td><td>廃止</td></tr><tr><td>options:limitsize</td><td>legacy volume size</td><td>-</td><td>no</td><td>(V)</td><td>4.0.0で復活</td></tr><tr><td>options:dropbox</td><td>-</td><td>-</td><td>-</td><td>-</td><td>廃止</td></tr><tr><td>options:dropkludge</td><td>-</td><td>-</td><td>-</td><td>-</td><td>廃止</td></tr><tr><td>options:nocnidcache</td><td>-</td><td>-</td><td>-</td><td>-</td><td>廃止</td></tr><tr><td>options:caseinsensitive</td><td>-</td><td>-</td><td>-</td><td>-</td><td>廃止</td></tr></tbody></table></div></div><p><br class="table-break" /></p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="appletalk.html">戻る</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="man-pages.html">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">第4章 AppleTalk </td><td width="20%" align="center"><a accesskey="h" href="index.html">ホーム</a></td><td width="40%" align="right" valign="top"> 第6章 マニュアルページ</td></tr></table></div></body>
</html>
