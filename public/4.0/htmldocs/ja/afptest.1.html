<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>afptest</title>
    <link rel="stylesheet" type="text/css" href="/css/netatalk.css" />
    <meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" />
    <link rel="home" href="index.html" title="Netatalk マニュアル" />
    <link rel="up" href="man-pages.html" title="第6章 マニュアルページ" />
    <link rel="prev" href="afpstats.1.html" title="afpstats" />
    <link rel="next" href="apple_dump.1.html" title="apple_dump" />
  </head>
  <body>
    <div xmlns="" id="header">
        <div id="logo"></div>
        <div id="menlinks">
          <a href="/" title="Netatalk ホームに戻る">[main]</a>
          <a href="/docs" title="Netatalk Wiki">[wiki]</a>
          <a href="/documentation.html" title="Netatalk マニュアル">[documentation]</a>
          <a href="/download.html" title="Netatalk をダウンロード">[downloads]</a>
          <a href="/support.html" title="お問い合わせ">[support]</a>
          <a href="/links.html" title="Netatalk 関連リンク">[links]</a>
          <img src="/gfx/end.gif" alt="" width="125" height="7" />
        </div>
    </div>
    <div xmlns="" class="navheader" align="center">Netatalk 4.0.8</div>
<div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">afptest</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="afpstats.1.html">戻る</a> </td><th width="60%" align="center">第6章 マニュアルページ</th><td width="20%" align="right"> <a accesskey="n" href="apple_dump.1.html">次へ</a></td></tr></table><hr /></div><div class="refentry"><a id="afptest.1"></a><div class="titlepage"></div><div class="refnamediv"><h2>名前</h2><p>afptest, afp_lantest, afp_logintest, afp_spectest, afp_speedtest, afparg — AFP プロトコルテスト</p></div><div class="refsynopsisdiv"><h2>概要</h2><div class="cmdsynopsis"><p><code class="command">afp_lantest<a id="id-1.9.13.3.1.1.1" class="indexterm"></a></code>  [-34567GgVv] [-h <em class="replaceable"><code>ホスト</code></em>] [-p <em class="replaceable"><code>ポート</code></em>] [-s <em class="replaceable"><code>ボリューム</code></em>] [-u <em class="replaceable"><code>ユーザー</code></em>] [-w <em class="replaceable"><code>パスワード</code></em>] [-n <em class="replaceable"><code>反復</code></em>] [-t <em class="replaceable"><code>実行するテスト</code></em>] [-F <em class="replaceable"><code>bigfile</code></em>]</p></div><div class="cmdsynopsis"><p><code class="command">afp_logintest<a id="id-1.9.13.3.2.1.1" class="indexterm"></a></code>  [-1234567CmVv] [-h <em class="replaceable"><code>ホスト</code></em>] [-p <em class="replaceable"><code>ポート</code></em>] [-s <em class="replaceable"><code>ボリューム</code></em>] [-u <em class="replaceable"><code>ユーザー</code></em>] [-w <em class="replaceable"><code>パスワード</code></em>]</p></div><div class="cmdsynopsis"><p><code class="command">afp_spectest<a id="id-1.9.13.3.3.1.1" class="indexterm"></a></code>  [-1234567aCiLlmVvx] [-h <em class="replaceable"><code>ホスト</code></em>] [-H <em class="replaceable"><code>ホスト2</code></em>] [-p <em class="replaceable"><code>port</code></em>] [-s <em class="replaceable"><code>ボリューム</code></em>] [-c <em class="replaceable"><code>ボリュームへのパス</code></em>] [-S <em class="replaceable"><code>ボリューム2</code></em>] [-u <em class="replaceable"><code>ユーザー</code></em>] [-d <em class="replaceable"><code>user2</code></em>] [-w <em class="replaceable"><code>パスワード</code></em>] [-f <em class="replaceable"><code>テスト</code></em>]</p></div><div class="cmdsynopsis"><p><code class="command">afp_speedtest<a id="id-1.9.13.3.4.1.1" class="indexterm"></a></code>  [-1234567aeiLnVvy] [-h <em class="replaceable"><code>ホスト</code></em>] [-p <em class="replaceable"><code>ポート</code></em>] [-s <em class="replaceable"><code>ボリューム</code></em>] [-S <em class="replaceable"><code>ボリューム2</code></em>] [-u <em class="replaceable"><code>ユーザー</code></em>] [-w <em class="replaceable"><code>パスワード</code></em>] [-n <em class="replaceable"><code>反復</code></em>] [-d <em class="replaceable"><code>サイズ</code></em>] [-q <em class="replaceable"><code>quantum</code></em>] [-F <em class="replaceable"><code>ファイル</code></em>] [-f <em class="replaceable"><code>テスト</code></em>]</p></div><div class="cmdsynopsis"><p><code class="command">afparg<a id="id-1.9.13.3.5.1.1" class="indexterm"></a></code>  [-1234567lVv] [-h <em class="replaceable"><code>ホスト</code></em>] [-p <em class="replaceable"><code>ポート</code></em>] [-s <em class="replaceable"><code>ボリューム</code></em>] [-u <em class="replaceable"><code>ユーザー</code></em>] [-w <em class="replaceable"><code>パスワード</code></em>] [-f <em class="replaceable"><code>コマンド</code></em>]</p></div></div><div class="refsect1"><a id="id-1.9.13.4"></a><h2>説明</h2><p><span class="emphasis"><em>afptest</em></span>
    ファミリーのすべてのツールは、同じ一般的な使用パターンとパラメータに従います。 AFP プロトコル リビジョン
    (<code class="option">-1</code> から <code class="option">-7</code>) を設定し、次にテストするホストのアドレスと資格情報
    (localhost も可) を設定します。一部のテストでは、2 番目のユーザーと 2 番目のボリュームを定義する必要があります。さらに別のテスト
    セットを localhost から実行し、テスト対象のボリュームへのローカル パスを指定する必要があります。 単一のテストまたはテスト
    セクションは、<code class="option">-f</code> オプションで実行できます。使用可能なテストは、<code class="option">-l</code>
    オプションで一覧表示できます。</p><p><span class="command"><strong>afp_spectest</strong></span> は、300 を超えるテスト ケースを含む AFP 仕様テスト スイートの中核を
    構成します。これは、テストする AFP コマンド別、またはテストの前提条件別に分けられたテストセットに編成されています。
    たとえば、Tier 2 (T2) テストは、共有ボリュームへのパスを示す <code class="option">-c</code> オプションを使用してホスト上で
    実行する必要があります。また、読み取り専用テストとスリープ テストも別々に実行する必要があります。</p><p><span class="command"><strong>afp_logintest</strong></span> は、独自のランナーを持つ特定の AFP ログイン認証
    テストスイートです。</p><p><span class="command"><strong>afp_lantest</strong></span> と <span class="command"><strong>afp_speedtest</strong></span>
    は、AFP サーバーのファイル転送ベンチマークです。前者は、さまざまなファイル転送パターンのバッチを実行する <span class="emphasis"><em>HELIOS LanTest</em></span> にヒントを得たものです。後者は、いくつかのテスト
    ケースが用意された、よりシンプルなツールです。</p><p><span class="command"><strong>afparg</strong></span> は、オプションの引数を持つ特定のコマンドを受け取り、AFP
    サーバーに単一のアクションを送信する AFP CLI クライアントです。これは、1
    回限りのトラブルシューティングやシステム管理に使用できます。</p><p>各オプションの正確な使用方法については、各ツールのヘルプテキストを参照してください。</p></div><div class="refsect1"><a id="id-1.9.13.5"></a><h2>例</h2><p>afp_spectest の FPSetForkParms_test テストセットを AFP 3.4 で実行します。</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>afp_spectest -h 127.0.0.1 -p 548 -u user1 -d user2 -w passwd -s testvol1 -S testvol2 -c /srv/afptest1 -7 -f FPSetForkParms_test</code></strong>
<code class="computeroutput">===================
FPSetForkParms_test
-------------------
FPSetForkParms:test62: SetForkParams errors - PASSED
FPSetForkParms:test141: Setforkmode error - PASSED
FPSetForkParms:test217: Setfork size 64 bits - PASSED
FPSetForkParms:test306: set fork size, new size &gt; old size - PASSED</code>
</pre><p>AFP 3.0 を使用して afp_lantest ベンチマークを実行します。</p><pre class="screen"><code class="prompt">%</code> <strong class="userinput"><code>afp_lantest -h 192.168.0.2 -s testvol1 -u user1 -w passwd -3</code></strong>
<code class="computeroutput">Run 0 =&gt; Opening, stating and reading 512 bytes from 1000 files   1799 ms
Run 0 =&gt; Writing one large file                                     30 ms for 100 MB (avg. 3495 MB/s)
Run 0 =&gt; Reading one large file                                      8 ms for 100 MB (avg. 13107 MB/s)
Run 0 =&gt; Locking/Unlocking 10000 times each                       1959 ms
Run 0 =&gt; Creating dir with 2000 files                             1339 ms
Run 0 =&gt; Enumerate dir with 2000 files                             217 ms
Run 0 =&gt; Create directory tree with 10^3 dirs                      496 ms

Netatalk Lantest Results (averages)
===================================

Opening, stating and reading 512 bytes from 1000 files   1799 ms
Writing one large file                                     30 ms for 100 MB (avg. 3495 MB/s)
Reading one large file                                      8 ms for 100 MB (avg. 13107 MB/s)
Locking/Unlocking 10000 times each                       1959 ms
Creating dir with 2000 files                             1339 ms
Enumerate dir with 2000 files                             217 ms
Create directory tree with 10^3 dirs                      496 ms</code>
</pre></div><div class="refsect1"><a id="id-1.9.13.6"></a><h2>参照</h2><p><span class="citerefentry"><span class="refentrytitle">afpd</span>(8)</span>.</p></div><div class="refsect1"><a id="id-1.9.13.7"></a><h2>著者</h2><p><a class="ulink" href="https://netatalk.io/contributors" target="_top">CONTRIBUTORS</a> を参照</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="afpstats.1.html">戻る</a> </td><td width="20%" align="center"><a accesskey="u" href="man-pages.html">上に戻る</a></td><td width="40%" align="right"> <a accesskey="n" href="apple_dump.1.html">次へ</a></td></tr><tr><td width="40%" align="left" valign="top">afpstats </td><td width="20%" align="center"><a accesskey="h" href="index.html">ホーム</a></td><td width="40%" align="right" valign="top"> apple_dump</td></tr></table></div></body>
</html>
