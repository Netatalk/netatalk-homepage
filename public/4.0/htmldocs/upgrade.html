<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Chapter 5. Upgrading from prior Netatalk versions</title>
    <link rel="stylesheet" type="text/css" href="/css/netatalk.css" />
    <meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" />
    <link rel="home" href="index.html" title="Netatalk Manual" />
    <link rel="up" href="index.html" title="Netatalk Manual" />
    <link rel="prev" href="appletalk.html" title="Chapter 4. AppleTalk" />
    <link rel="next" href="man-pages.html" title="Chapter 6. Manual Pages" />
  </head>
  <body>
    <div xmlns="" id="header">
        <div id="logo"></div>
        <div id="menlinks">
          <a href="/" title="Return to Netatalk home">[main]</a>
          <a href="/docs" title="Netatalk Wiki">[wiki]</a>
          <a href="/documentation.html" title="Netatalk Manual">[documentation]</a>
          <a href="/download.html" title="Download Netatalk">[downloads]</a>
          <a href="/support.html" title="Support">[support]</a>
          <a href="/links.html" title="Netatalk related links">[links]</a>
          <img src="/gfx/end.gif" alt="" width="125" height="7" />
        </div>
    </div>
    <div xmlns="" class="navheader" align="center">Netatalk 4.0.6</div>
<div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter 5. Upgrading from prior Netatalk versions</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="appletalk.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="man-pages.html">Next</a></td></tr></table><hr /></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="upgrade"></a>Chapter 5. Upgrading from prior Netatalk versions</h1></div><div><div class="author"><h3 class="author"><span class="firstname">Frank</span> <span class="surname">Lahm</span></h3></div></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl class="toc"><dt><span class="sect1"><a href="upgrade.html#id-1.8.3">Upgrading from Netatalk 3</a></span></dt><dt><span class="sect1"><a href="upgrade.html#id-1.8.4">Upgrading from Netatalk 2</a></span></dt><dd><dl><dt><span class="sect2"><a href="upgrade.html#id-1.8.4.3">New configuration</a></span></dt><dt><span class="sect2"><a href="upgrade.html#id-1.8.4.4">New AppleDouble backend</a></span></dt><dt><span class="sect2"><a href="upgrade.html#id-1.8.4.5">Other major changes</a></span></dt><dt><span class="sect2"><a href="upgrade.html#id-1.8.4.6">Upgrading procedure</a></span></dt><dt><span class="sect2"><a href="upgrade.html#id-1.8.4.7">Table with old and new configuration file names</a></span></dt><dt><span class="sect2"><a href="upgrade.html#id-1.8.4.8">Table with old and new option names</a></span></dt></dl></dd></dl></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id-1.8.3"></a>Upgrading from Netatalk 3</h2></div></div></div><p>Upgrading to Netatalk 4 from Netatalk 3 is trivial. Just install the
    new version on top of the old one. The primary difference is that Netatalk
    4 brings back essential AppleTalk services, configuration files, and tools
    that were removed between Netatalk 2 and Netatalk 3.</p><p>Notably, the <span class="command"><strong><a class="link" href="atalkd.8.html" title="atalkd">atalkd</a></strong></span> daemon with its <code class="filename"><a class="link" href="atalkd.conf.5.html" title="atalkd.conf">atalkd.conf</a></code> configuration file,
    and the <span class="command"><strong><a class="link" href="papd.8.html" title="papd">papd</a></strong></span> daemon with
    its <code class="filename"><a class="link" href="papd.conf.5.html" title="papd.conf">papd.conf</a></code>
    configuration file are once more available.</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id-1.8.4"></a>Upgrading from Netatalk 2</h2></div></div></div><p>There are three major changes between Netatalk 2 and Netatalk
    4:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>New configuration files that replaces most of the previous
          ones: <code class="filename"><a class="link" href="afp.conf.5.html" title="afp.conf">afp.conf</a></code> and <code class="filename"><a class="link" href="extmap.conf.5.html" title="extmap.conf">extmap.conf</a></code></p></li><li class="listitem"><p>New AppleDouble backend <code class="option">appledouble = ea</code>
          which stores Mac metadata and resource forks in extended attributes
          of the filesystem.</p></li><li class="listitem"><p>The AppleTalk transport layer is disabled by default. If you
          want to use Netatalk with very old Macs, turn it on with the
          <code class="option">appletalk = yes</code> option in
          <code class="filename">afp.conf</code>. Then start the
          <span class="command"><strong>atalkd</strong></span> daemon before <span class="command"><strong>netatalk</strong></span>
          in order to activate the AppleTalk transport layer.</p></li></ol></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="id-1.8.4.3"></a>New configuration</h3></div></div></div><p><code class="filename">afp.conf</code></p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>ini style syntax (akin to Samba's smb.conf)</p></li><li class="listitem"><p>one to rule them all: configure AFP settings and volumes in
            one file</p></li><li class="listitem"><p>obsoletes <code class="filename">afpd.conf</code>,
            <code class="filename">netatalk.conf</code>,
            <code class="filename">AppleVolumes.default</code> and
            <code class="filename">afp_ldap.conf</code></p></li></ul></div><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>most option names have changed, read the full manpage <a class="link" href="afp.conf.5.html" title="afp.conf">afp.conf</a> for details</p></div><p><code class="filename">extmap.conf</code></p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>maps file extensions to Classic Mac OS type/creator</p></li><li class="listitem"><p>unlike 2.x, the mappings are disabled by default; uncomment
            the lines in the file to enable them</p></li><li class="listitem"><p>obsoletes <code class="filename">AppleVolumes.system</code></p></li></ul></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="id-1.8.4.4"></a>New AppleDouble backend</h3></div></div></div><p>New AppleDouble backend <code class="option">appledouble = ea</code> which
      stores Mac metadata and resource forks in extended attributes of the
      filesystem.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>default backend (!)</p></li><li class="listitem"><p>requires a filesystem with Extended Attributes, fallback is
            <code class="option">appledouble = v2</code></p></li><li class="listitem"><p>converts filesystems from <code class="option">appledouble = v2</code>
            to <code class="option">appledouble = ea</code> on the fly when accessed (can
            be disabled)</p></li><li class="listitem"><p><span class="command"><strong><a class="link" href="dbd.1.html" title="dbd">dbd</a></strong></span> can be
            used to do conversion in one shot</p></li></ul></div><p>Implementation details:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>stores Mac Metadata (eg FinderInfo, AFP Flags, Comment,
            CNID) in an Extended Attributed named
            “<code class="filename">org.netatalk.Metadata</code>”</p></li><li class="listitem"><p>stores Mac ResourceFork either in</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>an Extended Attribute named
                  “<code class="filename">org.netatalk.ResourceFork</code>” on Solaris
                  w. ZFS, or in</p></li><li class="listitem"><p>an extra AppleDouble file named
                  “<code class="filename">._file</code>” for a file named
                  “<code class="filename">file</code>”</p></li></ul></div></li><li class="listitem"><p>the format of the ._ file is exactly as the Mac’s CIFS
            client expects it when accessing the same filesystem via a CIFS
            server (Samba), thus you can have parallel access from Macs to the
            same dataset via AFP and CIFS without the risk of loosing data
            (resources or metadata). Accessing the same dataset with CIFS from
            Windows clients will still break the coupling of
            “<code class="filename">file</code>” and “<code class="filename">._file</code>” on
            non ZFS filesystems (see above), so for this we still need an
            enhanced Samba VFS module (in the works).</p></li></ul></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="id-1.8.4.5"></a>Other major changes</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>New service controller daemon <a class="link" href="netatalk.8.html" title="netatalk">netatalk</a> which is responsible for
            starting and restarting the AFP and CNID daemons. All bundled
            start scripts have been updated, make sure to update yours!</p></li><li class="listitem"><p>All CNID databases are now stored under
            <code class="filename">$prefix/var/netatalk/CNID/</code> by default, rather than
            in the individual shared volume directories</p></li><li class="listitem"><p>Netatalk 2.x volume options “usedots” and “upriv” now
            enabled by default</p></li><li class="listitem"><p>Removed SLP and AFP proxy support</p></li></ul></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="id-1.8.4.6"></a>Upgrading procedure</h3></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Stop Netatalk 2.x</p></li><li class="listitem"><p>Install Netatalk 4</p></li><li class="listitem"><p>Manually recreate configurations in
            <code class="option">afp.conf</code> and <code class="option">extmap.conf</code></p></li><li class="listitem"><p>Update your Netatalk init script to start <span class="command"><strong><a class="link" href="netatalk.8.html" title="netatalk">netatalk</a></strong></span> instead of
            <span class="command"><strong>afpd</strong></span> and <span class="command"><strong>cnid_metad</strong></span>, or
            replace it with the appropriate stock init script for your
            system.</p></li><li class="listitem"><p>Move <code class="filename">afp_voluuid.conf</code> and
            <code class="filename">afp_signature.conf</code> to the localstate
            directory (default <code class="filename">$prefix/var/netatalk/</code>), you can
            use <span class="command"><strong>afpd -v</strong></span> in order to find the correct
            path</p></li><li class="listitem"><p>Start Netatalk 4</p></li></ol></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="id-1.8.4.7"></a>Table with old and new configuration file names</h3></div></div></div><div class="table"><a id="id-1.8.4.7.2.1"></a><p class="title"><strong>Table 5.1. old and new configuration file names</strong></p><div class="table-contents"><table class="table" summary="old and new configuration file names" border="1"><colgroup><col class="c1" /><col class="c2" /><col class="c3" /></colgroup><thead><tr><th>Old File Name</th><th>New File Name</th><th>Description</th></tr></thead><tbody><tr><td>-</td><td><code class="filename">etc/afp.conf</code></td><td>new ini-style format</td></tr><tr><td>-</td><td><code class="filename">etc/extmap.conf</code></td><td>starting with netatalk 3.0.2</td></tr><tr><td><code class="filename">etc/netatalk/afp_signature.conf</code></td><td><code class="filename">var/netatalk/afp_signature.conf</code></td><td>moved to $localstatedir</td></tr><tr><td><code class="filename">etc/netatalk/afp_voluuid.conf</code></td><td><code class="filename">var/netatalk/afp_voluuid.conf</code></td><td>moved to $localstatedir</td></tr><tr><td><code class="filename">etc/netatalk/netatalk.conf</code>
                (<code class="filename">/etc/default/netatalk</code>)</td><td>-</td><td>obsolete</td></tr><tr><td><code class="filename">etc/netatalk/afpd.conf</code></td><td>-</td><td>obsolete</td></tr><tr><td><code class="filename">etc/netatalk/afp_ldap.conf</code></td><td>-</td><td>obsolete</td></tr><tr><td><code class="filename">etc/netatalk/AppleVolumes.default</code></td><td>-</td><td>obsolete</td></tr><tr><td><code class="filename">etc/netatalk/AppleVolumes.system</code></td><td>-</td><td>obsolete</td></tr><tr><td><code class="filename">~/.AppleVolumes</code></td><td>-</td><td>obsolete</td></tr></tbody></table></div></div><p><br class="table-break" /></p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="id-1.8.4.8"></a>Table with old and new option names</h3></div></div></div><div class="table"><a id="id-1.8.4.8.2.1"></a><p class="title"><strong>Table 5.2. from netatalk.conf (/etc/default/netatalk) to
          afp.conf</strong></p><div class="table-contents"><table class="table" summary="from netatalk.conf (/etc/default/netatalk) to&#10;          afp.conf" border="1"><colgroup><col class="c1" /><col class="c2" /><col class="c3" /><col class="c4" /><col class="c5" /><col class="c6" /></colgroup><thead><tr><th>Old netatalk.conf</th><th>New afp.conf</th><th>Old Default Value</th><th>New Default Value</th><th>Section</th><th>Description</th></tr></thead><tbody><tr><td>ATALK_NAME</td><td>hostname</td><td>-</td><td>-</td><td>(G)</td><td>use gethostname() by default</td></tr><tr><td>ATALK_UNIX_CHARSET</td><td>unix charset</td><td><span class="bold"><strong>LOCALE</strong></span></td><td><span class="bold"><strong>UTF8</strong></span></td><td>(G)</td><td>-</td></tr><tr><td>ATALK_MAC_CHARSET</td><td>mac charset</td><td>MAC_ROMAN</td><td>MAC_ROMAN</td><td>(G)/(V)</td><td>-</td></tr><tr><td>CNID_METAD_RUN</td><td>-</td><td>yes</td><td>-</td><td>-</td><td>controlled by netatalk(8)</td></tr><tr><td>AFPD_RUN</td><td>-</td><td>yes</td><td>-</td><td>-</td><td>controlled by netatalk(8)</td></tr><tr><td>AFPD_MAX_CLIENTS</td><td>max connections</td><td><span class="bold"><strong>20</strong></span></td><td><span class="bold"><strong>200</strong></span></td><td>(G)</td><td>-</td></tr><tr><td>AFPD_UAMLIST</td><td>uam list</td><td>-U uams_dhx.so,uams_dhx2.so</td><td>uams_dhx.so uams_dhx2.so</td><td>(G)</td><td>-</td></tr><tr><td>AFPD_GUEST</td><td>guest account</td><td>nobody</td><td>nobody</td><td>(G)</td><td>-</td></tr><tr><td>CNID_CONFIG</td><td>log level</td><td>-l log_note</td><td>cnid:note</td><td>(G)</td><td>-</td></tr><tr><td>CNID_CONFIG</td><td>log file</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>ATALKD_RUN</td><td>-</td><td>no</td><td>-</td><td>-</td><td>controlled by the init system</td></tr><tr><td>PAPD_RUN</td><td>-</td><td>no</td><td>-</td><td>-</td><td>controlled by the init system</td></tr><tr><td>TIMELORD_RUN</td><td>-</td><td>no</td><td>-</td><td>-</td><td>controlled by the init system</td></tr><tr><td>A2BOOT_RUN</td><td>-</td><td>no</td><td>-</td><td>-</td><td>controlled by the init system</td></tr><tr><td>ATALK_BGROUND</td><td>-</td><td>no</td><td>-</td><td>-</td><td>controlled by the init system</td></tr><tr><td>ATALK_ZONE</td><td>ddp zone</td><td>-</td><td>-</td><td>(G)</td><td>Reinstated in 4.0.0</td></tr></tbody></table></div></div><p><br class="table-break" /></p><div class="table"><a id="id-1.8.4.8.2.2"></a><p class="title"><strong>Table 5.3. from afpd.conf to afp.conf</strong></p><div class="table-contents"><table class="table" summary="from afpd.conf to afp.conf" border="1"><colgroup><col class="c1" /><col class="c2" /><col class="c3" /><col class="c4" /><col class="c5" /><col class="c6" /></colgroup><thead><tr><th>Old afpd.conf</th><th>New afp.conf</th><th>Old Default Value</th><th>New Default Value</th><th>Section</th><th>Description</th></tr></thead><tbody><tr><td>1st field ("-" or "server name")</td><td>hostname</td><td>-</td><td>-</td><td>(G)</td><td>use gethostname() by default</td></tr><tr><td>-uamlist</td><td>uam list</td><td>uams_dhx.so,uams_dhx2.so</td><td>uams_dhx.so uams_dhx2.so</td><td>(G)</td><td>-</td></tr><tr><td>-nozeroconf</td><td>zeroconf</td><td>-</td><td>yes (if supported)</td><td>(G)</td><td>-</td></tr><tr><td>-advertise_ssh</td><td>advertise ssh</td><td>-</td><td>no</td><td>(G)</td><td>-</td></tr><tr><td>-[no]savepassword</td><td>save password</td><td>-savepassword</td><td>yes</td><td>(G)</td><td>-</td></tr><tr><td>-[no]setpassword</td><td>set password</td><td>-nosetpassword</td><td>no</td><td>(G)</td><td>-</td></tr><tr><td>-client_polling</td><td>client polling</td><td>-</td><td>no</td><td>(G)</td><td>-</td></tr><tr><td>-hostname</td><td>hostname</td><td>-</td><td>-</td><td>(G)</td><td>use gethostname() by default</td></tr><tr><td>-loginmesg</td><td>login message</td><td>-</td><td>-</td><td>(G)/(V)</td><td>-</td></tr><tr><td>-guestname</td><td>guest account</td><td>nobody</td><td>nobody</td><td>(G)</td><td>-</td></tr><tr><td>-passwdfile</td><td>passwd file</td><td>afppasswd</td><td>afppasswd</td><td>(G)</td><td>-</td></tr><tr><td>-passwdminlen</td><td>passwd minlen</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>-tickleval</td><td>tickleval</td><td>30</td><td>30</td><td>(G)</td><td>-</td></tr><tr><td>-timeout</td><td>timeout</td><td>4</td><td>4</td><td>(G)</td><td>-</td></tr><tr><td>-sleep</td><td>sleep time</td><td>10</td><td>10</td><td>(G)</td><td>-</td></tr><tr><td>-dsireadbuf</td><td>dsireadbuf</td><td>12</td><td>12</td><td>(G)</td><td>-</td></tr><tr><td>-server_quantum</td><td>server quantum</td><td><span class="bold"><strong>303840</strong></span></td><td><span class="bold"><strong>1048576</strong></span></td><td>(G)</td><td>-</td></tr><tr><td>-volnamelen</td><td>volnamelen</td><td>80</td><td>80</td><td>(G)</td><td>-</td></tr><tr><td>-setuplog</td><td>log level</td><td>default log_note</td><td>default:note</td><td>(G)</td><td>-</td></tr><tr><td>-setuplog</td><td>log file</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>-admingroup</td><td>admingroup</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>-k5service</td><td>k5 service</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>-k5realm</td><td>k5 realm</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>-k5keytab</td><td>k5 keytab</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>-uampath</td><td>uam path</td><td><span class="bold"><strong>etc/netatalk/uams/</strong></span></td><td><span class="bold"><strong>lib/netatalk/</strong></span></td><td>(G)</td><td>moved to $libdir</td></tr><tr><td>-ipaddr</td><td>afp listen</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>-cnidserver</td><td>cnid server</td><td>localhost:4700</td><td>localhost:4700</td><td>(G)/(V)</td><td>-</td></tr><tr><td>-port</td><td>port</td><td>548</td><td>548</td><td>(G)</td><td>-</td></tr><tr><td>-signature</td><td>signature</td><td>auto</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>-fqdn</td><td>fqdn</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>-unixcodepage</td><td>unix charset</td><td><span class="bold"><strong>LOCALE</strong></span></td><td><span class="bold"><strong>UTF8</strong></span></td><td>(G)</td><td>-</td></tr><tr><td>-maccodepage</td><td>mac charset</td><td>MAC_ROMAN</td><td>MAC_ROMAN</td><td>(G)/(V)</td><td>-</td></tr><tr><td>-closevol</td><td>close vol</td><td>-</td><td>no</td><td>(G)</td><td>-</td></tr><tr><td>-ntdomain</td><td>nt domain</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>-ntseparator</td><td>nt separator</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>-dircachesize</td><td>dircachesize</td><td>8192</td><td>8192</td><td>(G)</td><td>-</td></tr><tr><td>-tcpsndbuf</td><td>tcpsndbuf</td><td>-</td><td>-</td><td>(G)</td><td>OS default</td></tr><tr><td>-tcprcvbuf</td><td>tcprcvbuf</td><td>-</td><td>-</td><td>(G)</td><td>OS default</td></tr><tr><td>-fcelistener</td><td>fce listener</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>-fcecoalesce</td><td>fce coalesce</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>-fceevents</td><td>fce events</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>-fceholdfmod</td><td>fce holdfmod</td><td>60</td><td>60</td><td>(G)</td><td>-</td></tr><tr><td>-mimicmodel</td><td>mimic model</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>-adminauthuser</td><td>admin auth user</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>-noacl2maccess</td><td>map acls</td><td>-</td><td>rights</td><td>(G)</td><td>-</td></tr><tr><td>-[no]tcp</td><td>-</td><td>-tcp</td><td>-</td><td>-</td><td>TCP transport layer is always enabled</td></tr><tr><td>-[no]ddp</td><td>appletalk</td><td>-ddp</td><td>no</td><td>(G)</td><td>Reinstated in 4.0.0</td></tr><tr><td>-[no]transall</td><td>-</td><td>-transall</td><td>-</td><td>-</td><td>TCP transport layer is always enabled</td></tr><tr><td>-nodebug</td><td>-</td><td>-</td><td>-</td><td>-</td><td>obsolete</td></tr><tr><td>-[no]slp</td><td>-</td><td>-noslp</td><td>-</td><td>-</td><td>SLP support is obsoleted</td></tr><tr><td>-[no]uservolfirst</td><td>-</td><td>-nouservolfirst</td><td>-</td><td>-</td><td>uservol is obsoleted</td></tr><tr><td>-[no]uservol</td><td>-</td><td>-uservol</td><td>-</td><td>-</td><td>uservol is obsoleted</td></tr><tr><td>-proxy</td><td>-</td><td>-</td><td>-</td><td>-</td><td>obsolete</td></tr><tr><td>-defaultvol</td><td>-</td><td>AppleVolumes.default</td><td>-</td><td>-</td><td>afp.conf only</td></tr><tr><td>-systemvol</td><td>-</td><td>AppleVolumes.system</td><td>-</td><td>-</td><td>extmap.conf only</td></tr><tr><td>-loginmaxfail</td><td>-</td><td>-</td><td>-</td><td>-</td><td>not supported from the beginning</td></tr><tr><td>-unsetuplog</td><td>-</td><td>-</td><td>-</td><td>-</td><td>obsolete</td></tr><tr><td>-authprintdir</td><td>-</td><td>-</td><td>-</td><td>-</td><td>CAP style auth is obsoleted</td></tr><tr><td>-ddpaddr</td><td>ddp address</td><td>0.0</td><td>0.0</td><td>(G)</td><td>Reinstated in 4.0.0</td></tr><tr><td>-[no]icon</td><td>legacy icon</td><td>-noicon</td><td>-</td><td>(G)</td><td>Reinstated in 4.0.2</td></tr><tr><td>-keepsessions</td><td>-</td><td>-</td><td>-</td><td>-</td><td>obsolete. Use kill -HUP.</td></tr></tbody></table></div></div><p><br class="table-break" /></p><div class="table"><a id="id-1.8.4.8.2.3"></a><p class="title"><strong>Table 5.4. from afp_ldap.conf to afp.conf</strong></p><div class="table-contents"><table class="table" summary="from afp_ldap.conf to afp.conf" border="1"><colgroup><col class="c1" /><col class="c2" /><col class="c3" /><col class="c4" /><col class="c5" /><col class="c6" /></colgroup><thead><tr><th>Old afp_ldap.conf</th><th>New afp.conf</th><th>Old Default Value</th><th>New Defalut Value</th><th>Section</th><th>Description</th></tr></thead><tbody><tr><td>ldap_server</td><td>ldap server</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>ldap_auth_method</td><td>ldap auth method</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>ldap_auth_dn</td><td>ldap auth dn</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>ldap_auth_pw</td><td>ldap auth pw</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>ldap_userbase</td><td>ldap userbase</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>ldap_userscope</td><td>ldap userscope</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>ldap_groupbase</td><td>ldap groupbase</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>ldap_groupscope</td><td>ldap groupscope</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>ldap_uuid_attr</td><td>ldap uuid attr</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>ldap_uuid_string</td><td>ldap uuid string</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>ldap_name_attr</td><td>ldap name attr</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr><tr><td>ldap_group_attr</td><td>ldap group attr</td><td>-</td><td>-</td><td>(G)</td><td>-</td></tr></tbody></table></div></div><p><br class="table-break" /></p><div class="table"><a id="id-1.8.4.8.2.4"></a><p class="title"><strong>Table 5.5. from AppleVolumes.* to afp.conf</strong></p><div class="table-contents"><table class="table" summary="from AppleVolumes.* to afp.conf" border="1"><colgroup><col class="c1" /><col class="c2" /><col class="c3" /><col class="c4" /><col class="c5" /><col class="c6" /></colgroup><thead><tr><th>Old AppleVolumes.*</th><th>New afp.conf</th><th>Old Default Value</th><th>New Defalut Value</th><th>Section</th><th>Description</th></tr></thead><tbody><tr><td>(leading-dot lines)</td><td>-</td><td>-</td><td>-</td><td>-</td><td>moved to extmap.conf</td></tr><tr><td>:DEFAULT:</td><td>-</td><td>options:upriv,usedots</td><td>-</td><td>-</td><td>use "vol preset"</td></tr><tr><td>1st field ("~")</td><td>-</td><td>-</td><td>-</td><td>-</td><td>use [Homes] section</td></tr><tr><td>1st field ("/path")</td><td>path</td><td>-</td><td>-</td><td>(V)</td><td>-</td></tr><tr><td>2nd field</td><td>-</td><td>-</td><td>-</td><td>-</td><td>use section name</td></tr><tr><td>allow:</td><td>valid users</td><td>-</td><td>-</td><td>(V)</td><td>-</td></tr><tr><td>deny:</td><td>invalid users</td><td>-</td><td>-</td><td>(V)</td><td>-</td></tr><tr><td>rwlist:</td><td>rwlist</td><td>-</td><td>-</td><td>(V)</td><td>-</td></tr><tr><td>rolist:</td><td>rolist</td><td>-</td><td>-</td><td>(V)</td><td>-</td></tr><tr><td>volcharset:</td><td>vol charset</td><td><span class="bold"><strong>UTF8</strong></span></td><td><span class="bold"><strong>(same as unix
                charset)</strong></span></td><td>(G)/(V)</td><td>-</td></tr><tr><td>maccharset:</td><td>mac charset</td><td>MAC_ROMAN</td><td>MAC_ROMAN</td><td>(G)/(V)</td><td>-</td></tr><tr><td>veto:</td><td>veto files</td><td>-</td><td>-</td><td>(V)</td><td>-</td></tr><tr><td>cnidscheme:</td><td>cnid scheme</td><td>dbd</td><td>dbd</td><td>(V)</td><td>-</td></tr><tr><td>casefold:</td><td>casefold</td><td>-</td><td>-</td><td>(V)</td><td>-</td></tr><tr><td>adouble:</td><td>appledouble</td><td><span class="bold"><strong>v2</strong></span></td><td><span class="bold"><strong>ea</strong></span></td><td>(V)</td><td>v1, osx and sfm are obsoleted</td></tr><tr><td>cnidserver:</td><td>cnid server</td><td>localhost:4700</td><td>localhost:4700</td><td>(G)/(V)</td><td>-</td></tr><tr><td>dbpath:</td><td>vol dbpath</td><td><span class="bold"><strong>(volume
                directory)</strong></span></td><td><span class="bold"><strong>var/netatalk/CNID/</strong></span></td><td>(G)</td><td>moved to $localstatedir</td></tr><tr><td>umask:</td><td>umask</td><td>0000</td><td>0000</td><td>(V)</td><td>-</td></tr><tr><td>dperm:</td><td>directory perm</td><td>0000</td><td>0000</td><td>(V)</td><td>-</td></tr><tr><td>fperm:</td><td>file perm</td><td>0000</td><td>0000</td><td>(V)</td><td>-</td></tr><tr><td>password:</td><td>password</td><td>-</td><td>-</td><td>(V)</td><td>-</td></tr><tr><td>root_preexec:</td><td>root preexec</td><td>-</td><td>-</td><td>(V)</td><td>-</td></tr><tr><td>preexec:</td><td>preexec</td><td>-</td><td>-</td><td>(V)</td><td>-</td></tr><tr><td>root_postexec:</td><td>root postexec</td><td>-</td><td>-</td><td>(V)</td><td>-</td></tr><tr><td>postexec:</td><td>postexec</td><td>-</td><td>-</td><td>(V)</td><td>-</td></tr><tr><td>allowed_hosts:</td><td>hosts allow</td><td>-</td><td>-</td><td>(V)</td><td>-</td></tr><tr><td>denied_hosts:</td><td>hosts deny</td><td>-</td><td>-</td><td>(V)</td><td>-</td></tr><tr><td>ea:</td><td>ea</td><td>auto</td><td>auto</td><td>(V)</td><td>-</td></tr><tr><td>volsizelimit:</td><td>vol size limit</td><td>-</td><td>-</td><td>(V)</td><td>-</td></tr><tr><td>perm:</td><td>-</td><td>-</td><td>-</td><td>-</td><td>Use "directory perm" and "file perm"</td></tr><tr><td>forceuid:</td><td>-</td><td>-</td><td>-</td><td>-</td><td>obsolete</td></tr><tr><td>forcegid:</td><td>-</td><td>-</td><td>-</td><td>-</td><td>obsolete</td></tr><tr><td>options:ro</td><td>read only</td><td>-</td><td>no</td><td>(V)</td><td>-</td></tr><tr><td>options:invisibledots</td><td>invisible dots</td><td>-</td><td>no</td><td>(V)</td><td>-</td></tr><tr><td>options:nostat</td><td>stat vol</td><td>-</td><td>yes</td><td>(V)</td><td>-</td></tr><tr><td>options:preexec_close</td><td>preexec close</td><td>-</td><td>no</td><td>(V)</td><td>-</td></tr><tr><td>options:root_preexec_close</td><td>root preexec close</td><td>-</td><td>no</td><td>(V)</td><td>-</td></tr><tr><td>options:upriv</td><td>unix priv</td><td>-</td><td>yes</td><td>(V)</td><td>-</td></tr><tr><td>options:nodev</td><td>cnid dev</td><td>-</td><td>yes</td><td>(V)</td><td>-</td></tr><tr><td>options:illegalseq</td><td>illegal seq</td><td>-</td><td>no</td><td>(V)</td><td>-</td></tr><tr><td>options:tm</td><td>time machine</td><td>-</td><td>no</td><td>(V)</td><td>-</td></tr><tr><td>options:searchdb</td><td>search db</td><td>-</td><td>no</td><td>(V)</td><td>-</td></tr><tr><td>options:nonetids</td><td>network ids</td><td>-</td><td>yes</td><td>(V)</td><td>-</td></tr><tr><td>options:noacls</td><td>acls</td><td>-</td><td>yes</td><td>(V)</td><td>-</td></tr><tr><td>options:followsymlinks</td><td>follow symlinks</td><td>-</td><td>no</td><td>(V)</td><td>-</td></tr><tr><td>options:nohex</td><td>-</td><td>-</td><td>-</td><td>-</td><td>auto-convert from ":2f" to ":"</td></tr><tr><td>options:usedots</td><td>-</td><td>-</td><td>-</td><td>-</td><td>auto-convert from ":2e" to "."</td></tr><tr><td>options:nofileid</td><td>-</td><td>-</td><td>-</td><td>-</td><td>obsolete</td></tr><tr><td>options:prodos</td><td>prodos</td><td>-</td><td>no</td><td>(V)</td><td>Reinstated in 4.0.0</td></tr><tr><td>options:mswindows</td><td>-</td><td>-</td><td>-</td><td>-</td><td>obsolete</td></tr><tr><td>options:crlf</td><td>-</td><td>-</td><td>-</td><td>-</td><td>obsolete</td></tr><tr><td>options:noadouble</td><td>-</td><td>-</td><td>-</td><td>-</td><td>obsolete</td></tr><tr><td>options:limitsize</td><td>legacy volume size</td><td>-</td><td>no</td><td>(V)</td><td>Reinstated in 4.0.0</td></tr><tr><td>options:dropbox</td><td>-</td><td>-</td><td>-</td><td>-</td><td>obsolete</td></tr><tr><td>options:dropkludge</td><td>-</td><td>-</td><td>-</td><td>-</td><td>obsolete</td></tr><tr><td>options:nocnidcache</td><td>-</td><td>-</td><td>-</td><td>-</td><td>obsolete</td></tr><tr><td>options:caseinsensitive</td><td>-</td><td>-</td><td>-</td><td>-</td><td>obsolete</td></tr></tbody></table></div></div><p><br class="table-break" /></p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="appletalk.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="man-pages.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 4. AppleTalk </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Chapter 6. Manual Pages</td></tr></table></div></body>
</html>
