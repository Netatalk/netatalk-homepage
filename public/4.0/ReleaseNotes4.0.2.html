<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Netatalk Release Notes - 4.0.2</title>
    <meta name="description" content="Netatalk Release Notes">
    <link rel="canonical" href="https://netatalk.io/4.0/ReleaseNotes4.0.2.html">
    <link rel="stylesheet" type="text/css" href="https://netatalk.io/css/site.css" />
    <link rel="icon" type="image/x-icon" href="https://netatalk.io/gfx/favicon.ico" />
</head>
<body>
<div id="header">
    <div id="logo"></div>
    <div id="menlinks">
        <a href="/" title="Return to Netatalk home">[main]</a>
        <a href="/docs" title="Netatalk Wiki">[wiki]</a>
        <a href="/documentation.html" title="Netatalk Manual">[documentation]</a>
        <a href="/download.html" title="Download Netatalk">[downloads]</a>
        <a href="/support.html" title="Support">[support]</a>
        <a href="/links.html" title="Netatalk related links">[links]</a>
        <img src="/gfx/end.gif" alt="" width="125" height="7" />
    </div>
</div>

<div id="header-print">
    <h1>netatalk.io</h1>
</div>

<div class="search">
    <h2>search netatalk.io</h2>
    <form method="get" action="https://www.google.com/search">
        <p>
            <input type="text" name="q" size="10" maxlength="255" value="" title="enter search text" />
            <input type="hidden" name="sitesearch" value="netatalk.io" />
            <input type="submit" name="btnG" value="Go" title="search netatalk.io" />
        </p>
    </form>
    <span class="italic">powered by Google</span>
</div>

<div id="navbars">
  <div class="navbar">
    <h2>current releases</h2>
    <ul>
      <li>
        <a
        title="download 4.0.3 xz compressed source code"
        href="https://sourceforge.net/projects/netatalk/files/netatalk-4-0-3/netatalk-4.0.3.tar.xz/download">
        Netatalk 4.0.3 (source code)
        </a>
      </li>
      <li>
        <a
        title="download 4.0.3 checksum"
        href="https://sourceforge.net/projects/netatalk/files/netatalk-4-0-3/netatalk-4.0.3.tar.xz.sha256sum/download">
        Netatalk 4.0.3 (sha256sum)
        </a>
      </li>
      <li>
        <a
        title="download 4.0.3 Webmin module"
        href="https://sourceforge.net/projects/netatalk/files/netatalk-4-0-3/netatalk-4.0.3.wbm.gz/download">
        Webmin Module
        </a>
      </li>
      <li>
        <a
        title="view 4.0.3 Release Notes"
        href="/4.0/ReleaseNotes4.0.3.html">
        Release Notes
        </a>
      </li>
    </ul>
  </div>
  <div class="navbar">
    <h2>netatalk manual</h2>
    <div><a href="/stable/htmldocs">Table of Contents</a></div>
    <ol>
      <li><a href="/stable/htmldocs/intro">Introduction</a></li>
      <li><a href="/stable/htmldocs/installation">Installation</a></li>
      <li><a href="/stable/htmldocs/configuration">Configuration</a></li>
      <li><a href="/stable/htmldocs/appletalk">AppleTalk</a></li>
      <li><a href="/stable/htmldocs/upgrade">Upgrading</a></li>
      <li><a href="/stable/htmldocs/man-pages">List of Manual Pages</a></li>
    </ol>
    <ol class="alpha">
      <li><a href="/stable/htmldocs/compile">Appendix: Compile</a></li>
      <li><a href="/stable/htmldocs/gpl">Appendix: License</a></li>
    </ol>
  </div>
  <div class="navbar">
    <h2>community</h2>
    <ul>
       <li><a title="Wiki" href="https://github.com/Netatalk/netatalk/wiki">Contribute to Wiki Pages</a></li>
       <li><a title="Discussions" href="https://github.com/Netatalk/netatalk/discussions">Participate in Discussions</a></li>
       <li><a title="Mailing Lists" href="https://sourceforge.net/p/netatalk/mailman/">Subscribe to Mailing Lists</a></li>
    </ul>
  </div>
  <div class="navbar">
    <h2>development</h2>
    <ul>
       <li><a title="Code Repository" href="https://github.com/Netatalk/netatalk">Code Repository</a></li>
       <li><a title="How to Contribute" href="https://netatalk.io/docs/Developer-Notes.html">
        How to Contribute</a></li>
    </ul>
    <p><a href="https://sonarcloud.io/summary/overall?id=Netatalk_netatalk">
      <img alt="Sonarcloud Scan Build Status" height="30"
         src="https://sonarcloud.io/images/project_badges/sonarcloud-orange.svg"/>
    </a></p>
  </div>
</div>
<div id="content">
<h1>Netatalk 4.0.2</h1><hr />
<h1>Netatalk 4.0.2 is available!</h1>
<p>The Netatalk team is proud to announce the latest release in the <strong>Netatalk 4.0</strong> release series.</p>
<p>In this release version, the theme is testing. The integration tests has been strengthened, while the <strong>afptest</strong> test suite that was previously housed in a separate repository has been bundled with Netatalk proper.</p>
<p>Note that as a result, the <code>last</code> CNID backend will once again allow write operations when the Netatalk package is compiled with <code>-Dwith-tests=true</code>. This was the behavior of the <code>last</code> backend in Netatalk 2 and earlier. If you want the <code>last</code> backend to be read-only, please build the package without tests.</p>
<p>All users of the 4.0 release series are recommended to upgrade to Netatalk 4.0.2.</p>
<h2>Added Features</h2>
<h3>afpd</h3>
<ul>
<li>The ability to set a custom Classic Mac OS icon. Enable with the <code>legacy icon</code> option in afp.conf. To celebrate this release, we created a brand new <code>sdcard</code> icon for your enjoyment.</li>
</ul>
<h3>Meson build system</h3>
<ul>
<li><code>-Dwith-bdb-version</code>forces the detection of a specific Berkeley DB version if multiple are installed on your system.</li>
<li><code>-Dwith-statedir-path</code> override for the dir where CNID databases and state configurations are kept.</li>
<li><code>-Dwith-testsuite</code> that builds the afptest test suite</li>
</ul>
<h2>What&rsquo;s Changed</h2>
<ul>
<li>Fix volume check for &ldquo;ad&rdquo; tools. by @NJRoadfan in <a href='https://github.com/Netatalk/netatalk/pull/1605'>https://github.com/Netatalk/netatalk/pull/1605</a></li>
<li>meson: Rewrite Berkley DB detection by @singular0 in <a href='https://github.com/Netatalk/netatalk/pull/1610'>https://github.com/Netatalk/netatalk/pull/1610</a></li>
<li>docs: Improve upgrade chapter and add usage note for afp listen/ifs by @rdmark in <a href='https://github.com/Netatalk/netatalk/pull/1609'>https://github.com/Netatalk/netatalk/pull/1609</a></li>
<li>meson: spooldir FHS compliance; add statedir override option by @rdmark in <a href='https://github.com/Netatalk/netatalk/pull/1611'>https://github.com/Netatalk/netatalk/pull/1611</a></li>
<li>webmin: Default path values are detected by build system by @rdmark in <a href='https://github.com/Netatalk/netatalk/pull/1616'>https://github.com/Netatalk/netatalk/pull/1616</a></li>
<li>docker: use multistage build to isolate build from final image by @cy384 in <a href='https://github.com/Netatalk/netatalk/pull/1620'>https://github.com/Netatalk/netatalk/pull/1620</a></li>
<li>GitHub CI: Bump to OpenBSD 7.6 vmactions runner by @rdmark in <a href='https://github.com/Netatalk/netatalk/pull/1621'>https://github.com/Netatalk/netatalk/pull/1621</a></li>
<li>AFP over ASP: Cleanup unused code by @singular0 in <a href='https://github.com/Netatalk/netatalk/pull/1613'>https://github.com/Netatalk/netatalk/pull/1613</a></li>
<li>Make last CNID backend writable when running tests by @rdmark in <a href='https://github.com/Netatalk/netatalk/pull/1624'>https://github.com/Netatalk/netatalk/pull/1624</a></li>
<li>GitHub CI: Enable tests for all OSes by @rdmark in <a href='https://github.com/Netatalk/netatalk/pull/1625'>https://github.com/Netatalk/netatalk/pull/1625</a></li>
<li>meson: More robust Berkeley DB version detection by @singular0 in <a href='https://github.com/Netatalk/netatalk/pull/1627'>https://github.com/Netatalk/netatalk/pull/1627</a></li>
<li>Spotlight: Support TinySPARQL/LocalSearch by @singular0 in <a href='https://github.com/Netatalk/netatalk/pull/1617'>https://github.com/Netatalk/netatalk/pull/1617</a></li>
<li>Bring back custom icon option for Classic Mac OS by @rdmark in <a href='https://github.com/Netatalk/netatalk/pull/1626'>https://github.com/Netatalk/netatalk/pull/1626</a></li>
<li>docs: Touch up Tracker documentation and translate to Japanese by @rdmark in <a href='https://github.com/Netatalk/netatalk/pull/1629'>https://github.com/Netatalk/netatalk/pull/1629</a></li>
<li>Add sdcard legacy icon style, and an ICN# data conversion script by @rdmark in <a href='https://github.com/Netatalk/netatalk/pull/1630'>https://github.com/Netatalk/netatalk/pull/1630</a></li>
<li>webmin: Make AppleTalk service control functional by @rdmark in <a href='https://github.com/Netatalk/netatalk/pull/1636'>https://github.com/Netatalk/netatalk/pull/1636</a></li>
<li>test: Bump tested protocol version to AFP 3.4 by @rdmark in <a href='https://github.com/Netatalk/netatalk/pull/1632'>https://github.com/Netatalk/netatalk/pull/1632</a></li>
<li>webmin: Support for the legacy icon afp.conf option by @rdmark in <a href='https://github.com/Netatalk/netatalk/pull/1637'>https://github.com/Netatalk/netatalk/pull/1637</a></li>
<li>GitHub CI: Bump NetBSD vmactions runner, skip krbV UAM by @rdmark in <a href='https://github.com/Netatalk/netatalk/pull/1641'>https://github.com/Netatalk/netatalk/pull/1641</a></li>
<li>Bundle the afptest test suite by @rdmark in <a href='https://github.com/Netatalk/netatalk/pull/1634'>https://github.com/Netatalk/netatalk/pull/1634</a></li>
<li>GitHub CI: Define Debian and Ubuntu packages individually by @rdmark in <a href='https://github.com/Netatalk/netatalk/pull/1642'>https://github.com/Netatalk/netatalk/pull/1642</a></li>
<li>testsuite: Disable flaky T2 spectests and update helper script by @rdmark in <a href='https://github.com/Netatalk/netatalk/pull/1644'>https://github.com/Netatalk/netatalk/pull/1644</a></li>
<li>Fix papd PAPStatus string copy by @NJRoadfan in <a href='https://github.com/Netatalk/netatalk/pull/1647'>https://github.com/Netatalk/netatalk/pull/1647</a></li>
<li>testsuite: Workaround for enabling AFP 3.x tests by @rdmark in <a href='https://github.com/Netatalk/netatalk/pull/1645'>https://github.com/Netatalk/netatalk/pull/1645</a></li>
<li>testsuite: Make all test settings global, remove dead code by @rdmark in <a href='https://github.com/Netatalk/netatalk/pull/1648'>https://github.com/Netatalk/netatalk/pull/1648</a></li>
<li>Strip trailing whitespace, tabs and newlines from codebase by @rdmark in <a href='https://github.com/Netatalk/netatalk/pull/1650'>https://github.com/Netatalk/netatalk/pull/1650</a></li>
<li>testsuite: Touch up spectest suite for remote execution by @rdmark in <a href='https://github.com/Netatalk/netatalk/pull/1651'>https://github.com/Netatalk/netatalk/pull/1651</a></li>
</ul>
<h2>New Contributors</h2>
<ul>
<li>@cy384 made their first contribution in <a href='https://github.com/Netatalk/netatalk/pull/1620'>https://github.com/Netatalk/netatalk/pull/1620</a></li>
</ul>
<p><strong>Full Changelog</strong>: <a href='https://github.com/Netatalk/netatalk/compare/netatalk-4-0-1&hellip;netatalk-4-0-2'>https://github.com/Netatalk/netatalk/compare/netatalk-4-0-1&hellip;netatalk-4-0-2</a></p><hr />
<p>Release published on 2024-10-18</p>
<p>Generated from the original at <a href="https://github.com/Netatalk/netatalk/releases/tag/netatalk-4-0-2">GitHub</a></p>
<hr />
</div>
<div class="footer">
    <a href="https://validator.w3.org/check?uri=referer">
      <img src="https://www.w3.org/Icons/valid-xhtml10" alt="Valid XHTML 1.0 Strict" height="31" width="88" />
    </a>
    <a href="https://jigsaw.w3.org/css-validator/check?uri=referer">
      <img style="border:0;width:88px;height:31px"
      src="https://jigsaw.w3.org/css-validator/images/vcss" alt="Valid CSS!" />
    </a>
    <p>Netatalk is licensed under the <a href="/stable/htmldocs/gpl">GNU
    General Public License 2.0</a>.</p>
</div>
</body>
</html>
