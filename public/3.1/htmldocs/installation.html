<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Chapter 2. Installation</title>
    <link rel="stylesheet" type="text/css" href="https://netatalk.io/css/netatalk.css" />
    <meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" />
    <link rel="home" href="index.html" title="Netatalk Manual" />
    <link rel="up" href="index.html" title="Netatalk Manual" />
    <link rel="prev" href="intro.html" title="Chapter 1. Introduction" />
    <link rel="next" href="configuration.html" title="Chapter 3. Setting up Netatalk" />
  </head>
  <body>
    <div xmlns="" id="header">
        <div id="logo"></div>
        <div id="menlinks">
          <a href="/" title="Return to Netatalk home">[main]</a>
          <a href="/docs" title="Netatalk Wiki">[wiki]</a>
          <a href="/documentation.html" title="Netatalk Manual">[documentation]</a>
          <a href="/download.html" title="Download Netatalk">[downloads]</a>
          <a href="/support.html" title="Support">[support]</a>
          <a href="/links.html" title="Netatalk related links">[links]</a>
          <img src="/gfx/end.gif" alt="" width="125" height="7" />
        </div>
    </div>
    <div xmlns="" class="navheader" align="center">Netatalk 3.1.18</div>
<div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter 2. Installation</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="intro.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="configuration.html">Next</a></td></tr></table><hr /></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="installation"></a>Chapter 2. Installation</h1></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl class="toc"><dt><span class="sect1"><a href="installation.html#idm22">How to obtain Netatalk</a></span></dt><dd><dl><dt><span class="sect2"><a href="installation.html#idm27">Binary packages</a></span></dt><dt><span class="sect2"><a href="installation.html#idm60">Source packages</a></span></dt></dl></dd><dt><span class="sect1"><a href="installation.html#idm100">Compiling Netatalk</a></span></dt><dd><dl><dt><span class="sect2"><a href="installation.html#idm102">Prerequisites</a></span></dt><dt><span class="sect2"><a href="installation.html#compiling-netatalk">Compiling Netatalk</a></span></dt></dl></dd></dl></div><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>Netatalk 3 cannot coexist with earlier versions of Netatalk.
    See the <a class="link" href="upgrade.html" title="Chapter 4. Upgrading from Netatalk 2">upgrading</a> article on how to
    convert a Netatalk 2 installation to Netatalk 3 format.</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idm22"></a>How to obtain Netatalk</h2></div></div></div><p>Please have a look at the Netatalk page on GitHub for the most
    recent information on this matter.</p><p><a class="ulink" href="https://github.com/Netatalk/netatalk" target="_top">https://github.com/Netatalk/netatalk</a></p><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="idm27"></a>Binary packages</h3></div></div></div><p>Binary packages of Netatalk are included in some Linux and UNIX
      distributions. You might want to have a look at the usual locations,
      too.</p><p>Ubuntu packages: <a class="ulink" href="https://launchpad.net/ubuntu" target="_top">https://launchpad.net/ubuntu
      </a></p><p>Debian packages: <a class="ulink" href="https://www.debian.org/distrib/packages" target="_top">https://www.debian.org/
      </a></p><p>various RPM packages: <a class="ulink" href="http://rpmfind.net/" target="_top">http://rpmfind.net/</a></p><p>Fedora/RHEL packages: <a class="ulink" href="http://koji.fedoraproject.org/koji/search" target="_top">http://koji.fedoraproject.org/koji/search
      </a></p><p>Gentoo packages: <a class="ulink" href="http://packages.gentoo.org/" target="_top">http://packages.gentoo.org/
      </a></p><p>openSUSE packages: <a class="ulink" href="http://software.opensuse.org/" target="_top">http://software.opensuse.org/
      </a></p><p>Solaris packages: <a class="ulink" href="http://www.opencsw.org/packages/CSWnetatalk/" target="_top">http://www.opencsw.org/</a></p><p>FreeBSD ports: <a class="ulink" href="http://www.freebsd.org/ports/index.html" target="_top">http://www.freebsd.org/ports/index.html
      </a></p><p>NetBSD pkgsrc: <a class="ulink" href="http://pkgsrc.se/search.php" target="_top">http://pkgsrc.se/search.php
      </a></p><p>OpenBSD ports:<a class="ulink" href="https://openports.pl" target="_top">https://openports.pl
      </a></p><p>etc.<a id="idm51" class="indexterm"></a><a id="idm54" class="indexterm"></a><a id="idm57" class="indexterm"></a></p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="idm60"></a>Source packages</h3></div></div></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a id="idm62"></a>Tarballs</h4></div></div></div><p>Prepackaged tarballs in .tar.xz and .tar.bz2 format are available
        on the Netatalk page on <a class="ulink" href="https://github.com/Netatalk/netatalk" target="_top">GitHub</a>.</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a id="idm66"></a>Git</h4></div></div></div><p>Downloading the Git repository can be done quickly and
        easily:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Make sure you have Git installed. <span class="command"><strong>which
            git</strong></span> should produce a path to git.</p><pre class="screen"><code class="prompt">$</code> <strong class="userinput"><code>which git</code></strong>
<code class="computeroutput">/usr/bin/git</code></pre></li><li class="listitem"><p>Now get the source:</p><pre class="screen"><code class="prompt">$</code> <strong class="userinput"><code>git clone https://github.com/Netatalk/netatalk.git netatalk-code
</code></strong><code class="computeroutput">Initialized empty Git repository in /path/to/new/source/dir/netatalk/.git/
remote: Counting objects: 2503, done.
...
</code></pre><p>This will create a local directory called
            <code class="filename">netatalk-code</code> containing a complete and fresh
            copy of the whole Netatalk source from the Git repository.</p></li><li class="listitem"><p>In order to keep your repository copy updated, occasionally
            run:</p><pre class="screen"><code class="prompt">$</code> <strong class="userinput"><code>git pull</code></strong></pre></li><li class="listitem"><p>Now <span class="command"><strong>cd</strong></span> to the netatalk-code directory and run
            <span class="command"><strong>./bootstrap</strong></span>. This will create the
            <code class="filename">configure</code> script required in the next
            step.</p><pre class="screen"><code class="prompt">$</code> <strong class="userinput"><code>./bootstrap</code></strong></pre></li></ol></div><p>For futher information refer to the <a class="ulink" href="https://github.com/Netatalk/netatalk/wiki/Developer-Notes" target="_top">Developer Notes</a>
        wiki page.</p></div></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idm100"></a>Compiling Netatalk</h2></div></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="idm102"></a>Prerequisites</h3></div></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>The following pieces of software are likely to have a package
        available for your OS distribution of choice.</p><p>Please see the <a class="ulink" href="https://github.com/Netatalk/netatalk/wiki/Installation-Notes" target="_top">
        Installation Notes</a> wiki page as a starting point.</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a id="idm108"></a>Required third-party software</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Berkeley DB<a id="idm113" class="indexterm"></a>.</p><p>At the time of writing you need at least version 4.6.</p><p>The recommended version is 5.3, which was the final release
            under the permissive Sleepycat license,
	    which means that this is what most FLOSS operating systems
	    are defaulting to.</p></li><li class="listitem"><p>Libgcrypt</p><p>The <a class="ulink" href="http://directory.fsf.org/wiki/Libgcrypt" target="_top">
	    Libgcrypt</a> library enables the DHX2 UAM,
	    which is required to authenticate with OS X 10.7 and later.</p></li></ul></div></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a id="idm122"></a>Optional third-party software</h4></div></div></div><p>Netatalk can use the following third-party software to enhance
        its functionality.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Tracker for Spotlight<a id="idm128" class="indexterm"></a> support</p><p>Netatalk uses <a class="ulink" href="https://tracker.gnome.org" target="_top">Tracker</a> as the
            metadata backend. Recent Linux distributions will provide the
            libtracker-sparql library which is available since Tracker version
            0.7.</p></li><li class="listitem"><p>mDNSresponderPOSIX or Avahi for Bonjour (aka
            Zeroconf)</p><p>Mac OS X 10.2 and later use Bonjour (aka Zeroconf) for
            service discovery.</p><p>The Avahi library must be built with DBUS support (
            <strong class="userinput"><code>--enable-dbus</code></strong>).</p></li><li class="listitem"><p>TCP wrappers</p><p>Wietse Venema's network logger, also known as TCPD or
            LOG_TCP.</p><p>Security options are: access control per host, domain and/or
            service; detection of host name spoofing or host address spoofing;
            booby traps to implement an early-warning system.</p></li><li class="listitem"><p>PAM<a id="idm143" class="indexterm"></a></p><p>PAM provides a flexible mechanism for authenticating users.
            PAM was invented by SUN<a id="idm147" class="indexterm"></a> Microsystems. Linux-PAM is a suite of shared
            libraries that enable the local system administrator to choose how
            applications authenticate users.</p></li><li class="listitem"><p>iconv</p><p>iconv provides conversion routines for many character
            encodings. Netatalk uses it to provide charsets it does not have
            built in conversions for, like ISO-8859-1. On glibc systems,
            Netatalk can use the glibc provided iconv implementation.
            Otherwise you can use the GNU libiconv implementation.</p></li></ul></div></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="compiling-netatalk"></a>Compiling<a id="idm155" class="indexterm"></a> Netatalk</h3></div></div></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a id="idm158"></a>Configuring the build</h4></div></div></div><p>To build the binaries, first run the program
        <span class="command"><strong>./configure</strong></span> in the source directory. This should
        automatically configure Netatalk for your operating system. If you
        have unusual needs, then you may wish to run</p><pre class="screen"><code class="prompt">$</code> <strong class="userinput"><code>./configure --help</code></strong></pre><p>to see what special options you can enable.</p><p>The most used configure options are:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p><code class="option">--with-init-style</code>=redhat-sysv|redhat-systemd|suse-sysv|suse-systemd|gentoo-openrc|gentoo-systemd|netbsd|debian-sysv|debian-systemd|solaris|openrc|systemd|macos-launchd</p><p>This option helps Netatalk to determine where to install the
            start scripts.</p></li><li class="listitem"><p><code class="option">--with-bdb</code>=<em class="replaceable"><code>/path/to/bdb/installation/</code></em></p><p>In case you installed Berkeley DB in a non-standard
            location, you will <span class="emphasis"><em>have</em></span> to give the install
            location to Netatalk, using this switch.</p></li><li class="listitem"><p><code class="option">--with-ssl-dir</code>=<em class="replaceable"><code>/path/to/ssl/installation/</code></em></p><p>In case you installed OpenSSL or LibreSSL in a non-standard
            location, you will <span class="emphasis"><em>have</em></span> to give the install
            location to Netatalk, using this switch.</p></li></ul></div><p>Now run configure with any options you need</p><pre class="screen"><code class="prompt">$</code> <strong class="userinput"><code>./configure [arguments]</code></strong></pre><p>Configure will end up in an overview showing the settings the
        Netatalk Makefiles have been created with.</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a id="spotlight-compile"></a>Spotlight<a id="idm191" class="indexterm"></a></h4></div></div></div><p>Netatalk uses Gnome <a class="ulink" href="https://projects.gnome.org/tracker/" target="_top">Tracker</a> as the
        metadata backend. The minimum required version is 0.7 as that's the
        first version to support <a class="ulink" href="https://gnome.pages.gitlab.gnome.org/tracker/docs/developer/" target="_top">SPARQL</a>.</p><p>If not already installed, install the packages
        <span class="emphasis"><em>tracker</em></span> and <span class="emphasis"><em>tracker-devel</em></span>,
        on Solaris install <a class="ulink" href="http://www.opencsw.org/" target="_top">OpenCSW</a> and then install
        the Tracker package from the OpenCSW unstable repository.</p><p>The tracker packages are found via pkg-config, you may have to
        pass the version suffix as you may have a newer version installed then
        the default 0.12, e.g.</p><pre class="screen"><code class="prompt">$</code> <strong class="userinput"><code>pkg-config --list-all | grep tracker
	</code></strong>tracker-sparql-3.0             tracker-sparql-3.0 - Tracker : A SPARQL triple store library</pre><p>So in this example, configure with:</p><pre class="screen"><code class="prompt">$</code> <strong class="userinput"><code>./configure --with-tracker-pkgconfig-version=3.0 ...</code></strong></pre><p>If you're using Solaris and Tracker from OpenCSW, then you need
        to set the PKG_CONFIG_PATH environment variable, add the
        --with-tracker-prefix configure option and add
        LDFLAGS="-R/opt/csw/lib"</p><pre class="screen">PKG_CONFIG_PATH=/opt/csw/lib/pkgconfig LDFLAGS="-R/opt/csw/lib" ./configure --with-tracker-prefix=/opt/csw --with-tracker-pkgconfig-version=0.16 ...</pre><p>Check the configure output whether the Tracker libs were
        found:</p><pre class="screen">checking for TRACKER... yes
        checking for TRACKER_MINER... yes
        ...
        Configure summary:
        ...
          AFP:
            Spotlight: yes
        ...</pre></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a id="idm212"></a>Compile and install</h4></div></div></div><p>Next, running</p><pre class="screen"><code class="prompt">$</code> <strong class="userinput"><code>make</code></strong></pre><p>should produce the Netatalk binaries (this step can take several
        minutes to complete).</p><p>When the process finished you can use</p><pre class="screen"><code class="prompt">$</code> <strong class="userinput"><code>make install</code></strong></pre><p>to install the binaries and documentation (must be done as
        "root" when using default locations).</p></div></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="intro.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="configuration.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 1. Introduction </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Chapter 3. Setting up Netatalk</td></tr></table></div></body>
</html>
