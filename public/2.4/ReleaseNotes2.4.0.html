<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Netatalk Release Notes - 2.4.0</title>
    <meta name="description" content="Netatalk Release Notes">
    <link rel="canonical" href="https://netatalk.io/2.4/ReleaseNotes2.4.0.html">
    <link rel="stylesheet" type="text/css" href="https://netatalk.io/css/site.css" />
    <link rel="icon" type="image/x-icon" href="https://netatalk.io/gfx/favicon.ico" />
</head>
<body>
<div id="header">
    <div id="logo"></div>
    <div id="menlinks">
        <a href="/" title="Return to Netatalk home">[main]</a>
        <a href="/docs" title="Netatalk Wiki">[wiki]</a>
        <a href="/documentation.html" title="Netatalk Manual">[documentation]</a>
        <a href="/download.html" title="Download Netatalk">[downloads]</a>
        <a href="/support.html" title="Support">[support]</a>
        <a href="/links.html" title="Netatalk related links">[links]</a>
        <img src="/gfx/end.gif" alt="" width="125" height="7" />
    </div>
</div>

<div id="header-print">
    <h1>netatalk.io</h1>
</div>

<div class="search">
    <h2>search netatalk.io</h2>
    <form method="get" action="https://www.google.com/search">
        <p>
            <input type="text" name="q" size="10" maxlength="255" value="" title="enter search text" />
            <input type="hidden" name="sitesearch" value="netatalk.io" />
            <input type="submit" name="btnG" value="Go" title="search netatalk.io" />
        </p>
    </form>
    <span class="italic">powered by Google</span>
</div>

<div id="navbars">
  <div class="navbar">
    <h2>current releases</h2>
    <ul>
      <li>
        <a
        title="download 4.0.3 xz compressed source code"
        href="https://sourceforge.net/projects/netatalk/files/netatalk-4-0-3/netatalk-4.0.3.tar.xz/download">
        Netatalk 4.0.3 (source code)
        </a>
      </li>
      <li>
        <a
        title="download 4.0.3 checksum"
        href="https://sourceforge.net/projects/netatalk/files/netatalk-4-0-3/netatalk-4.0.3.tar.xz.sha256sum/download">
        Netatalk 4.0.3 (sha256sum)
        </a>
      </li>
      <li>
        <a
        title="download 4.0.3 Webmin module"
        href="https://sourceforge.net/projects/netatalk/files/netatalk-4-0-3/netatalk-4.0.3.wbm.gz/download">
        Webmin Module
        </a>
      </li>
      <li>
        <a
        title="view 4.0.3 Release Notes"
        href="/4.0/ReleaseNotes4.0.3.html">
        Release Notes
        </a>
      </li>
    </ul>
  </div>
  <div class="navbar">
    <h2>netatalk manual</h2>
    <div><a href="/stable/htmldocs">Table of Contents</a></div>
    <ol>
      <li><a href="/stable/htmldocs/intro">Introduction</a></li>
      <li><a href="/stable/htmldocs/installation">Installation</a></li>
      <li><a href="/stable/htmldocs/configuration">Configuration</a></li>
      <li><a href="/stable/htmldocs/appletalk">AppleTalk</a></li>
      <li><a href="/stable/htmldocs/upgrade">Upgrading</a></li>
      <li><a href="/stable/htmldocs/man-pages">List of Manual Pages</a></li>
    </ol>
    <ol class="alpha">
      <li><a href="/stable/htmldocs/compile">Appendix: Compile</a></li>
      <li><a href="/stable/htmldocs/gpl">Appendix: License</a></li>
    </ol>
  </div>
  <div class="navbar">
    <h2>community</h2>
    <ul>
       <li><a title="Wiki" href="https://github.com/Netatalk/netatalk/wiki">Contribute to Wiki Pages</a></li>
       <li><a title="Discussions" href="https://github.com/Netatalk/netatalk/discussions">Participate in Discussions</a></li>
       <li><a title="Mailing Lists" href="https://sourceforge.net/p/netatalk/mailman/">Subscribe to Mailing Lists</a></li>
    </ul>
  </div>
  <div class="navbar">
    <h2>development</h2>
    <ul>
       <li><a title="Code Repository" href="https://github.com/Netatalk/netatalk">Code Repository</a></li>
       <li><a title="How to Contribute" href="https://netatalk.io/docs/Developer-Notes.html">
        How to Contribute</a></li>
    </ul>
    <p><a href="https://sonarcloud.io/summary/overall?id=Netatalk_netatalk">
      <img alt="Sonarcloud Scan Build Status" height="30"
         src="https://sonarcloud.io/images/project_badges/sonarcloud-orange.svg"/>
    </a></p>
  </div>
</div>
<div id="content">
<h1>Netatalk 2.4.0</h1><hr />
<h1>REDISTRIBUTION LICENSING ALERT</h1>
<p>If you redistribute binary Netatalk packages, please be advised that there may be <a href="https://github.com/Netatalk/netatalk/issues/1185">incompatible licensing terms</a> in this source package. To avoid potential issues when redistributing, it is strongly recommended to build this package with <code>-Dwith-embedded-ssl=false</code> when using the Meson build system. The Autotools build system is not affected. Alternatively, upgrade to Netatalk 2.4.2 or later.</p>
<h1>Netatalk 2.4.0 is available!</h1>
<p>The Netatalk team is proud to announce the first release in the <strong>Netatalk 2.4</strong> release series. Unlike the Netatalk 3.x releases, 2.x maintains support for the AppleTalk transport layer for networking with very old Mac and Apple II clients.</p>
<p>This release contains a number of breaking changes compared to Netatalk 2.3, and is recommended for early adopters. It is highly recommended that you take a backup of your production environment before attempting to upgrade an existing Netatalk deployment to 2.4.0.</p>
<p>A companion release of the <a href="https://github.com/Netatalk/netatalk-webmin/releases/tag/netatalk2-2.0">Webmin Module (v2.0)</a> is also available, with support for the new and updated features in Netatalk 2.4.0, as well as much added functionality.</p>
<p>Please see <a href="https://github.com/Netatalk/netatalk/blob/netatalk-2-4-0/NEWS">NEWS</a> for the full changelog.</p>
<h2>New Features</h2>
<h3>Meson build system</h3>
<p>The Meson build system has been introduced, and exists in parallel with the traditional GNU Autotools build system. We plan to remove Autotools in a future feature release version of Netatalk.</p>
<p>One noticeable, practical difference compared to Autotools, is that all features are enabled by default. If the requisite libraries and headers are found, the feature will be compiled. If they are not found, a warning will be left in the setup log.</p>
<p>Additionally, whereas Autotools had a hodgepodge of <code>--enable-*|--disable-*|--with-*|--without-*</code> options, Meson only has <code>-Dwith-*</code> which are <em>booleans</em> that take <code>true|false</code>, or <code>-Dwith-*-path</code> options that are of the <em>string</em> type and take the path to libraries, headers, or binaries.</p>
<p>Some options were renamed in Meson to align with Netatalk 3.x:</p>
<ul>
<li><code>--enable-debian|redhat|systemd|etc.</code> -&gt; <code>-Dwith-init-style=</code></li>
<li><code>--disable-install-privileged</code> -&gt; <code>-Dwith-init-hooks=true|false</code></li>
</ul>
<p>Please see <a href="https://github.com/Netatalk/netatalk/blob/netatalk-2-4-0/INSTALL.md">INSTALL</a> for detailed instructions how to use the new build system. The online manual also has a <a href="https://netatalk.io/2.4/htmldocs/compile">new appendix</a> with build instructions for specific operating systems.</p>
<p>Consequently, starting with this release, we no longer distribute tarballs that were bootstrapped by autoconf. We still ship the bootstrap script and all the macros required so that you can bootstrap it yourself if needed.</p>
<h3>Bundled WolfSSL</h3>
<p>OpenSSL 3.0 has deprecated the <a href="https://en.wikipedia.org/wiki/Diffie%E2%80%93Hellman_key_exchange">DHCAST128</a> and <a href="https://en.wikipedia.org/wiki/Data_Encryption_Standard">DES</a> encryption algorithms used by Apple&rsquo;s <strong>DHX</strong> and <strong>Random Number</strong> UAMs, respectively. These UAMs are used for (somewhat) secure authentication with very old Mac OS clients (early OS X, Classic Mac OS, and Apple IIGS.)</p>
<p>We are now bundling a subset of <a href="https://www.wolfssl.com/">WolfSSL</a> with Netatalk, as the default encryption provider for these UAMs. Building Netatalk with bundled WolfSSL requires the use of the Meson build system.</p>
<h3>Init Scripts</h3>
<p>An <strong>OpenRC</strong> init script has been added, which was adapted from the existing Gentoo init script.</p>
<h2>Dependency Changes</h2>
<h3>LDAP API</h3>
<p>We have bumped the LDAP API version, and now require OpenLDAP v2.3 or later.</p>
<p>As a result, a new afp.conf option <code>ldap_uri</code> has been introduced, while the old <code>ldap_server</code> has been removed. The new option has a different syntax. See the <a href="https://netatalk.io/2.4/htmldocs/afp_ldap.conf.5">manual</a> for more information.</p>
<h3>Perl</h3>
<p>The Perl runtime is now an <em>optional</em> dependency for Netatalk (it was previously mandatory.) Only when Perl is detected at compile time, the administrative CLI utilities that use the Perl runtime are installed.</p>
<h2>Deprecated Features</h2>
<p>The following runtime options have been removed.</p>
<ul>
<li>loginmaxfail (afpd.conf)</li>
<li>passwdminlen (afpd.conf)</li>
<li>noallmulti (atalkd.conf)</li>
</ul>
<h2>What&rsquo;s Changed</h2>
<ul>
<li>[2.4] Swap out the old ldap_init for the wonderful ldap_initialize by @rdmark in <a href='https://github.com/Netatalk/netatalk/pull/767'>https://github.com/Netatalk/netatalk/pull/767</a></li>
<li>[2.4] Fix minor syntax error in sys/netatalk/at.h leading to linux headers not being picked up by meson by @dgsga in <a href='https://github.com/Netatalk/netatalk/pull/773'>https://github.com/Netatalk/netatalk/pull/773</a></li>
<li>[2.4] docs: Update git instructions and README.md by @rdmark in <a href='https://github.com/Netatalk/netatalk/pull/784'>https://github.com/Netatalk/netatalk/pull/784</a></li>
<li>Create meson build system for [2.4] by @dgsga in <a href='https://github.com/Netatalk/netatalk/pull/776'>https://github.com/Netatalk/netatalk/pull/776</a></li>
<li>[2.4] Remove obsolete Solaris Appletalk kernel module code by @dgsga in <a href='https://github.com/Netatalk/netatalk/pull/830'>https://github.com/Netatalk/netatalk/pull/830</a></li>
<li>[2.4] docs: Refresh DEVELOPER and AppleTalk readmes by @rdmark in <a href='https://github.com/Netatalk/netatalk/pull/832'>https://github.com/Netatalk/netatalk/pull/832</a></li>
<li>[2.4] docs: Generate compilation manual page from build.yml by @rdmark in <a href='https://github.com/Netatalk/netatalk/pull/838'>https://github.com/Netatalk/netatalk/pull/838</a></li>
<li>[2.4] docs: improve description of mimic model option by @rdmark in <a href='https://github.com/Netatalk/netatalk/pull/843'>https://github.com/Netatalk/netatalk/pull/843</a></li>
<li>[2.4] Overhaul of all init scripts by @rdmark in <a href='https://github.com/Netatalk/netatalk/pull/869'>https://github.com/Netatalk/netatalk/pull/869</a></li>
<li>[2.4] docs: Overhaul the install and configuration chapters by @rdmark in <a href='https://github.com/Netatalk/netatalk/pull/874'>https://github.com/Netatalk/netatalk/pull/874</a></li>
<li>[2.4] Remove hard dependencies on perl and grep by @rdmark in <a href='https://github.com/Netatalk/netatalk/pull/908'>https://github.com/Netatalk/netatalk/pull/908</a></li>
<li>[2.4] Fix missing rresvport function on systems using musl C library by @dgsga in <a href='https://github.com/Netatalk/netatalk/pull/920'>https://github.com/Netatalk/netatalk/pull/920</a></li>
<li>[2.4] Update rc.openrc.tmpl: a2boot and timelord depend on atalkd by @NJRoadfan in <a href='https://github.com/Netatalk/netatalk/pull/927'>https://github.com/Netatalk/netatalk/pull/927</a></li>
<li>[2.4] afppasswd: Check for valid password length by @rdmark in <a href='https://github.com/Netatalk/netatalk/pull/933'>https://github.com/Netatalk/netatalk/pull/933</a></li>
<li>Set service name as hostname in init scripts by @rdmark in <a href='https://github.com/Netatalk/netatalk/pull/935'>https://github.com/Netatalk/netatalk/pull/935</a></li>
<li>[2.4] afppasswd: Introduce -w option for password string by @rdmark in <a href='https://github.com/Netatalk/netatalk/pull/937'>https://github.com/Netatalk/netatalk/pull/937</a></li>
<li>[2.4] docker: Alpine based container + Meson build by @rdmark in <a href='https://github.com/Netatalk/netatalk/pull/909'>https://github.com/Netatalk/netatalk/pull/909</a></li>
<li>[2.4] Document -notransall option by @rdmark in <a href='https://github.com/Netatalk/netatalk/pull/981'>https://github.com/Netatalk/netatalk/pull/981</a></li>
<li>[2.4] meson: Add WolfSSL as an external or built-in SSL provider by @dgsga in <a href='https://github.com/Netatalk/netatalk/pull/986'>https://github.com/Netatalk/netatalk/pull/986</a></li>
<li>[2.4] Fix broken cracklib macro in autotools and meson (#940) by @dgsga in <a href='https://github.com/Netatalk/netatalk/pull/990'>https://github.com/Netatalk/netatalk/pull/990</a></li>
<li>[2.4] Enable the DHX UAM with embedded WolfSSL in default conf by @rdmark in <a href='https://github.com/Netatalk/netatalk/pull/994'>https://github.com/Netatalk/netatalk/pull/994</a></li>
<li>[2.4] docs: Move documentation from conf file templates to man pages by @rdmark in <a href='https://github.com/Netatalk/netatalk/pull/1017'>https://github.com/Netatalk/netatalk/pull/1017</a></li>
<li>[2.4] afpd: Remove multiple deprecated options by @rdmark in <a href='https://github.com/Netatalk/netatalk/pull/1019'>https://github.com/Netatalk/netatalk/pull/1019</a></li>
<li>[2.4] netatalkd: Netatalk service can only be stopped if it is already running by @rdmark in <a href='https://github.com/Netatalk/netatalk/pull/1031'>https://github.com/Netatalk/netatalk/pull/1031</a></li>
<li>[2.4] Enable building with quota and libtirpc on Fedora by @rdmark in <a href='https://github.com/Netatalk/netatalk/pull/1045'>https://github.com/Netatalk/netatalk/pull/1045</a></li>
<li>[2.4] Update data types in codebase by @dgsga in <a href='https://github.com/Netatalk/netatalk/pull/1009'>https://github.com/Netatalk/netatalk/pull/1009</a></li>
<li>[2.4] meson: Fix issues with quota support on macOS and linux hosts by @dgsga in <a href='https://github.com/Netatalk/netatalk/pull/1093'>https://github.com/Netatalk/netatalk/pull/1093</a></li>
<li>[2.4] atalkd: Remove multicast workaround for Linux by @rdmark in <a href='https://github.com/Netatalk/netatalk/pull/1094'>https://github.com/Netatalk/netatalk/pull/1094</a></li>
<li>[2.4] meson: Simplify options semantics and standardize feature macros by @dgsga in <a href='https://github.com/Netatalk/netatalk/pull/1109'>https://github.com/Netatalk/netatalk/pull/1109</a></li>
<li>[2.4] meson: Set executable flags when installing scripts and rename lp2pap by @rdmark in <a href='https://github.com/Netatalk/netatalk/pull/1114'>https://github.com/Netatalk/netatalk/pull/1114</a></li>
<li>[2.4] docker: Bump to Alpine 3.20 base image and fix group creation by @rdmark in <a href='https://github.com/Netatalk/netatalk/pull/1115'>https://github.com/Netatalk/netatalk/pull/1115</a></li>
<li>[2.4] Freshen up README.md by @rdmark in <a href='https://github.com/Netatalk/netatalk/pull/1123'>https://github.com/Netatalk/netatalk/pull/1123</a></li>
</ul>
<p><strong>Full Changelog</strong>: <a href='https://github.com/Netatalk/netatalk/compare/netatalk-2-3-2&hellip;netatalk-2-4-0'>https://github.com/Netatalk/netatalk/compare/netatalk-2-3-2&hellip;netatalk-2-4-0</a></p>
<p><strong>Note:</strong> The Debian deb package distributed with this release is built for Debian 12 Bookworm.</p><hr />
<p>Release published on 2024-06-22</p>
<p>Generated from the original at <a href="https://github.com/Netatalk/netatalk/releases/tag/netatalk-2-4-0">GitHub</a></p>
<hr />
</div>
<div class="footer">
    <a href="https://validator.w3.org/check?uri=referer">
      <img src="https://www.w3.org/Icons/valid-xhtml10" alt="Valid XHTML 1.0 Strict" height="31" width="88" />
    </a>
    <a href="https://jigsaw.w3.org/css-validator/check?uri=referer">
      <img style="border:0;width:88px;height:31px"
      src="https://jigsaw.w3.org/css-validator/images/vcss" alt="Valid CSS!" />
    </a>
    <p>Netatalk is licensed under the <a href="/stable/htmldocs/gpl">GNU
    General Public License 2.0</a>.</p>
</div>
</body>
</html>
