<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Chapter 2. Installation</title>
    <link rel="stylesheet" type="text/css" href="https://netatalk.io/css/netatalk.css" />
    <meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" />
    <link rel="home" href="index.html" title="Netatalk Manual" />
    <link rel="up" href="index.html" title="Netatalk Manual" />
    <link rel="prev" href="intro.html" title="Chapter 1. Introduction" />
    <link rel="next" href="configuration.html" title="Chapter 3. Setting up Netatalk" />
  </head>
  <body>
    <div xmlns="" id="header">
        <div id="logo"></div>
        <div id="menlinks">
          <a href="/" title="Return to Netatalk home">[main]</a>
          <a href="/docs" title="Netatalk Wiki">[wiki]</a>
          <a href="/documentation.html" title="Netatalk Manual">[documentation]</a>
          <a href="/download.html" title="Download Netatalk">[downloads]</a>
          <a href="/support.html" title="Support">[support]</a>
          <a href="/links.html" title="Netatalk related links">[links]</a>
          <img src="/gfx/end.gif" alt="" width="125" height="7" />
        </div>
    </div>
    <div xmlns="" class="navheader" align="center">Netatalk 2.4.2</div>
<div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter 2. Installation</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="intro.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="configuration.html">Next</a></td></tr></table><hr /></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="installation"></a>Chapter 2. Installation</h1></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl class="toc"><dt><span class="sect1"><a href="installation.html#id-1.5.3">How to obtain Netatalk</a></span></dt><dd><dl><dt><span class="sect2"><a href="installation.html#id-1.5.3.4">Binary packages</a></span></dt><dt><span class="sect2"><a href="installation.html#id-1.5.3.5">Source packages</a></span></dt></dl></dd><dt><span class="sect1"><a href="installation.html#id-1.5.4">Compiling Netatalk</a></span></dt><dd><dl><dt><span class="sect2"><a href="installation.html#id-1.5.4.2">Prerequisites</a></span></dt><dt><span class="sect2"><a href="installation.html#compiling-netatalk">Configure and Build Netatalk</a></span></dt></dl></dd><dt><span class="sect1"><a href="installation.html#id-1.5.5">Starting and stopping Netatalk</a></span></dt></dl></div><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>Netatalk 2 cannot coexist with either Netatalk 1 or Netatalk 3. See
    the <a class="link" href="upgrade.html" title="Chapter 4. Upgrading from Netatalk 1.x">upgrading</a> chapter in this manual if you
    want to migrate a Netatalk 1 installation to Netatalk 2.</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id-1.5.3"></a>How to obtain Netatalk</h2></div></div></div><p>Please have a look at the <a class="ulink" href="https://netatalk.io" target="_top">Netatalk
    homepage</a> for the most up to date information on where to find the
    latest version of the software.</p><p><a class="ulink" href="https://github.com/Netatalk/netatalk" target="_top">https://github.com/Netatalk/netatalk</a></p><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="id-1.5.3.4"></a>Binary packages</h3></div></div></div><p>Binary packages of Netatalk are included in the package
      repositories of some Linux and BSD distributions. Installing Netatalk
      through this channel will give you the most seamless experience, with
      managed updates when new package versions are available.</p><p>You might also want to have a look at 3rd party package
      repositories for your operating system, such as <a class="ulink" href="https://www.opencsw.org/" target="_top">OpenCSW</a> for Solaris and its
      descendants, and <a class="ulink" href="https://brew.sh/" target="_top">Homebrew</a> or
      <a class="ulink" href="https://www.macports.org/" target="_top">MacPorts</a> for
      macOS.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="id-1.5.3.5"></a>Source packages</h3></div></div></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a id="id-1.5.3.5.2"></a>Tarballs</h4></div></div></div><p>Prepackaged tarballs with stable releases of the Netatalk source
        code are available on the <a class="ulink" href="https://github.com/Netatalk/netatalk/releases" target="_top">Netatalk releases
        page on GitHub</a>.</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a id="id-1.5.3.5.3"></a>Git</h4></div></div></div><p>Downloading the Git repository can be done quickly and
        easily:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Make sure you have Git installed. <span class="command"><strong>which
            git</strong></span> should produce a path to git.</p><pre class="screen"><code class="prompt">$</code> <strong class="userinput"><code>which git</code></strong>
<code class="computeroutput">/usr/bin/git</code></pre></li><li class="listitem"><p>Now get the source:</p><pre class="screen"><code class="prompt">$</code> <strong class="userinput"><code>git clone https://github.com/Netatalk/netatalk.git netatalk-code
</code></strong><code class="computeroutput">Cloning into 'netatalk-code'...
remote: Enumerating objects: 41592, done.
...
Resolving deltas: 100% (32227/32227), done.
</code></pre><p>This will create a local directory called
            <code class="filename">netatalk-code</code> containing a complete and fresh
            copy of the whole Netatalk source tree from the Git
            repository.</p></li><li class="listitem"><p>If you don't specify a branch or tag, you will get the
            bleeding edge development code. In order to get the latest stable
            Netatalk 2.4 code, for instance, check out the branch named
            "branch-netatalk-2-4":</p><pre class="screen"><code class="prompt">$</code> <strong class="userinput"><code>git checkout branch-netatalk-2-4</code></strong></pre></li><li class="listitem"><p>In order to keep your repository copy updated, occasionally
            run:</p><pre class="screen"><code class="prompt">$</code> <strong class="userinput"><code>git pull</code></strong></pre></li></ol></div></div></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id-1.5.4"></a>Compiling Netatalk</h2></div></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="id-1.5.4.2"></a>Prerequisites</h3></div></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>The following pieces of software are likely to have a package
        available for your OS distribution of choice.</p><p>Please see the <a class="ulink" href="https://netatalk.io/docs/" target="_top"> Netatalk
        wiki docs</a> for OS specific installation guides.</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a id="id-1.5.4.2.3"></a>System requirements</h4></div></div></div><p>Your system needs to meet the following requirements:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>A C compiler: Netatalk compiles fine with gcc &gt;
            2.7.95 or later.</p></li></ul></div><p>To be able to compile with AFP3 support, your system has to
        support large files (&gt;2GB).</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>On linux systems glibc &gt; 2.2 is required.</p></div></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a id="id-1.5.4.2.4"></a>Required third-party software</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Berkeley DB<a id="id-1.5.4.2.4.2.1.1.1" class="indexterm"></a></p><p>At the time of writing you need at least version 4.6.</p><p>The recommended version is 5.3, which was the final release
            under the permissive Sleepycat license, which means that this is
            what most FLOSS operating systems are distributing.</p></li><li class="listitem"><p>Libgcrypt</p><p>The <a class="ulink" href="http://directory.fsf.org/wiki/Libgcrypt" target="_top">
            Libgcrypt</a> library enables the DHX2 UAM, which is required
            to authenticate with OS X 10.7 and later.</p></li></ul></div></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a id="id-1.5.4.2.5"></a>Optional third-party software</h4></div></div></div><p>Netatalk can use the following third-party software to enhance
        its functionality.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>OpenSSL</p><p>OpenSSL 1.x or LibreSSL is needed for the older DHCAST128
            (a.k.a. DHX) UAM, which provides the strongest password encryption
            for Classic Mac OS. The older Random Number UAMs uses this
            library, too.</p></li><li class="listitem"><p>OpenSLP</p><p>SLP<a id="id-1.5.4.2.5.3.2.2.1" class="indexterm"></a> (Service Location Protocol) is an IETF<a id="id-1.5.4.2.5.3.2.2.2" class="indexterm"></a> standards track protocol that provides a framework
            to allow networking applications to discover the existence,
            location, and configuration of networked services in enterprise
            networks.</p><p>Mac OS 8.5 - Mac OS X 10.4 use SLP to locate AFP
            servers.</p></li><li class="listitem"><p>Avahi or mDNSResponder</p><p>Mac OS X 10.2 and later prefer Bonjour (aka Zeroconf).
            Netatalk can advertise AFP servers and Time Machine volumes by
            using Avahi or mDNSResponder.</p><p>Avahi is a freely-available implementation of Zeroconf.
            Avahi itself must be built with DBUS support (
            <strong class="userinput"><code>--enable-dbus</code></strong>).</p><p>Starting with Netatalk 2.2.3, mDNSResponder is also
            available.</p></li><li class="listitem"><p>TCP wrappers</p><p>Wietse Venema's network logger, also known as TCPD or
            LOG_TCP.</p><p>Security options are: access control per host, domain and/or
            service; detection of host name spoofing or host address spoofing;
            booby traps to implement an early-warning system.</p></li><li class="listitem"><p>PAM<a id="id-1.5.4.2.5.3.5.1.1" class="indexterm"></a></p><p>PAM provides a flexible mechanism for authenticating users.
            PAM was invented by SUN<a id="id-1.5.4.2.5.3.5.2.1" class="indexterm"></a> Microsystems. Linux-PAM is a suite of shared
            libraries that enable the local system administrator to choose how
            applications authenticate users.</p></li><li class="listitem"><p>Kerberos V</p><p>Kerberos v5 is a client-server based authentication protocol
            invented at the Massachusetts Institute of Technology. With the
            Kerberos library, netatalk can produce the GSS UAM library for
            authentication with existing Kerberos infrastructure.</p></li><li class="listitem"><p>ACL and LDAP</p><p>LDAP is an open and industry-standard user directory
            protocol that works in tandem with the advanced permissions scheme
            of ACL. On some operating systems ACL and LDAP libraries are built
            in to the system, while on others you have to install supporting
            packages to enable this functionality. At least OpenLDAP 2.3 or
            later is required.</p></li><li class="listitem"><p>CUPS</p><p>When building the optional papd print server, CUPS can
            provide the ability to create printing queues for modern network
            printers that are AirPrint compatible.</p></li><li class="listitem"><p>iconv</p><p>iconv provides conversion routines for many character
            encodings. Netatalk uses it to provide charsets it does not have
            built in conversions for, like ISO-8859-1. On glibc systems,
            Netatalk can use the glibc provided iconv implementation.
            Otherwise you can use the GNU libiconv implementation.</p></li><li class="listitem"><p>CrackLib</p><p>When using the Random Number UAMs and netatalk's own
            <strong class="userinput"><code>afppasswd</code></strong> password manager, CrackLib can
            help protect against setting weak passwords for authentication
            with netatalk.</p></li><li class="listitem"><p>quota or libtirpc</p><p>Either of these libraries can provide the ability to limit
            the disk usage per system user, which is controlled at the file
            system level.</p></li><li class="listitem"><p>Perl</p><p>Administrative utilities such as
            <strong class="userinput"><code>apple_dump</code></strong>,
            <strong class="userinput"><code>asip-status</code></strong> and
            <strong class="userinput"><code>macusers</code></strong> rely on the Perl runtime, version
            5.8 or later. Additionally, the
            <span class="emphasis"><em>IO::Socket::IP</em></span> module is required by
            asip-status.</p></li><li class="listitem"><p>DocBook XSL and xsltproc</p><p>The netatalk documentation (such as this manual) are
            authored in XML format, and then styled with DocBook XSL
            stylesheets. We rely on xsltproc to transcode the XML to other
            human-readable formats.</p></li></ul></div></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="compiling-netatalk"></a>Configure and Build<a id="id-1.5.4.3.1.1" class="indexterm"></a> Netatalk</h3></div></div></div><p>Instructions on how to use the build system are documented in the
      <a class="ulink" href="https://github.com/Netatalk/netatalk/blob/main/INSTALL" target="_top">
      INSTALL</a> file in the Netatalk source tree.</p><p>For examples of concrete steps to compile on specific operating
      systems, refer to the <a class="link" href="compile.html" title="Appendix A. Compile Netatalk from Source">Compile Netatalk from
      Source</a> appendix in this manual, which is automatically generated
      from the CI build scripts.</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id-1.5.5"></a>Starting and stopping Netatalk</h2></div></div></div><p>The Netatalk distribution comes with several operating system
    specific startup script templates that are tailored according to the
    options given to the build system before compiling. Currently, templates
    are provided for popular Linux distributions, BSD variants, Solaris
    descendants, and macOS.</p><p>When building from source, you can configure the build system to
    install the generated startup script(s) <a id="id-1.5.5.3.1" class="indexterm"></a> you want by specifying an <code class="option">init-style</code>
    option. For the specific syntax, please refer to the build system's help
    text.</p><p>Some of the non-systemd scripts can be further parametrized by the
    configuration file netatalk.conf (described in the <span class="citerefentry"><span class="refentrytitle">netatalk.conf</span>(5)</span> manual page), some obtain that information in another,
    operating system specific way (like NetBSD, Debian and so on).</p><p>If you use the cross-platform <code class="option">systemd</code> option, there
    is no need to specify the system type. Also, the <code class="filename">
    netatalk.conf</code> configuration file is <span class="emphasis"><em>not</em></span>
    used by systemd unit configurations.</p><p>Since new releases of Linux distributions appear all the time and
    the startup procedure for the other systems mentioned above might change
    as well, it is probably a good idea to not blindly install a startup
    script but to confirm first that it will work on your system.</p><p>If you use Netatalk as part of a fixed setup, like a Linux
    distribution, an RPM or a BSD package, things will probably have been
    arranged properly for you. The previous paragraphs therefore apply mostly
    for people who have compiled Netatalk themselves.</p><p>The following daemons need to be started by whatever startup script
    mechanism is used:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>atalkd<a id="id-1.5.5.9.1.1.1" class="indexterm"></a> (if you use the AppleTalk protocol)</p></li><li class="listitem"><p>papd<a id="id-1.5.5.9.2.1.1" class="indexterm"></a> (if you want to provide print services via
        AppleTalk)</p></li><li class="listitem"><p>timelord<a id="id-1.5.5.9.3.1.1" class="indexterm"></a> (for old style time synchronization via
        AppleTalk)</p></li><li class="listitem"><p>a2boot<a id="id-1.5.5.9.4.1.1" class="indexterm"></a> (Apple II boot server via AppleTalk)</p></li><li class="listitem"><p>cnid_metad<a id="id-1.5.5.9.5.1.1" class="indexterm"></a> (if the dbd CNID backend is used)</p></li><li class="listitem"><p>afpd<a id="id-1.5.5.9.6.1.1" class="indexterm"></a></p></li></ul></div><p>Additionally, make sure that the various configuration files
    (<code class="filename">afpd.conf</code>,
    <code class="filename">AppleVolumes.default</code>, <code class="filename">papd.conf</code>
    etc.) are in the right place and that
    <code class="filename">netatalk.conf</code><a id="id-1.5.5.10.5" class="indexterm"></a> (if used) contains the right entries. If you want e.g. papd
    to be started using this mechanism, set the environment variable
    "<code class="option">PAPD_RUN</code>"<a id="id-1.5.5.10.7" class="indexterm"></a> to "yes" in netatalk.conf. You can inquire netatalk where
    it is expecting the configuration files to be by running the
    <strong class="userinput"><code>afpd -V</code></strong> command.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="intro.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="configuration.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 1. Introduction </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Chapter 3. Setting up Netatalk</td></tr></table></div></body>
</html>
