<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Chapter 2. Installation</title>
    <link rel="stylesheet" type="text/css" href="https://netatalk.io/css/netatalk.css" />
    <meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" />
    <link rel="home" href="index.html" title="Netatalk Manual" />
    <link rel="up" href="index.html" title="Netatalk Manual" />
    <link rel="prev" href="intro.html" title="Chapter 1. Introduction" />
    <link rel="next" href="configuration.html" title="Chapter 3. Setting up Netatalk" />
  </head>
  <body>
    <div xmlns="" id="header">
        <div id="logo"></div>
        <div id="menlinks">
          <a href="/" title="Return to Netatalk home">[main]</a>
          <a href="/docs" title="Netatalk Wiki">[wiki]</a>
          <a href="/documentation.html" title="Netatalk Manual">[documentation]</a>
          <a href="/download.html" title="Download Netatalk">[downloads]</a>
          <a href="/support.html" title="Support">[support]</a>
          <a href="/links.html" title="Netatalk related links">[links]</a>
          <img src="/gfx/end.gif" alt="" width="125" height="7" />
        </div>
    </div>
    <div xmlns="" class="navheader" align="center">Netatalk 3.2.4</div>
<div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter 2. Installation</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="intro.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="configuration.html">Next</a></td></tr></table><hr /></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="installation"></a>Chapter 2. Installation</h1></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl class="toc"><dt><span class="sect1"><a href="installation.html#id-1.5.3">How to obtain Netatalk</a></span></dt><dd><dl><dt><span class="sect2"><a href="installation.html#id-1.5.3.3">Binary packages</a></span></dt><dt><span class="sect2"><a href="installation.html#id-1.5.3.4">Source packages</a></span></dt></dl></dd><dt><span class="sect1"><a href="installation.html#id-1.5.4">Compiling Netatalk</a></span></dt><dd><dl><dt><span class="sect2"><a href="installation.html#id-1.5.4.2">Prerequisites</a></span></dt><dt><span class="sect2"><a href="installation.html#compiling-netatalk">Configure and build Netatalk</a></span></dt></dl></dd><dt><span class="sect1"><a href="installation.html#id-1.5.5">Starting and stopping Netatalk</a></span></dt></dl></div><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>Netatalk 3 cannot coexist with earlier versions of Netatalk. See the
    <a class="link" href="upgrade.html" title="Chapter 4. Upgrading from Netatalk 2">upgrading</a> chapter in this manual if you
    want to migrate a Netatalk 2 installation to Netatalk 3.</p></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id-1.5.3"></a>How to obtain Netatalk</h2></div></div></div><p>Please have a look at the <a class="ulink" href="https://netatalk.io" target="_top">Netatalk
    homepage</a> for the most up to date information on where to find the
    latest version of the software.</p><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="id-1.5.3.3"></a>Binary packages</h3></div></div></div><p>Binary packages of Netatalk are included in the package
      repositories of some Linux and BSD distributions. Installing Netatalk
      through this channel will give you the most seamless experience, with
      managed updates when new package versions are available.</p><p>You might also want to have a look at 3rd party package
      repositories for your operating system, such as <a class="ulink" href="https://rpmfind.net/" target="_top">rpmfind</a> for Red Hat based Linux
      distributions, <a class="ulink" href="https://www.opencsw.org/" target="_top">OpenCSW</a> for
      Solaris and its descendants, and <a class="ulink" href="https://brew.sh/" target="_top">
      Homebrew</a> or <a class="ulink" href="https://www.macports.org/" target="_top">MacPorts
      </a> for macOS.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="id-1.5.3.4"></a>Source packages</h3></div></div></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a id="id-1.5.3.4.2"></a>Tarballs</h4></div></div></div><p>Prepackaged tarballs with stable releases of the Netatalk source
        code are available on the <a class="ulink" href="https://github.com/Netatalk/netatalk/releases" target="_top">Netatalk releases
        page on GitHub</a>.</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a id="id-1.5.3.4.3"></a>Git</h4></div></div></div><p>Downloading the Git repository can be done quickly and
        easily:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Make sure you have Git installed. <span class="command"><strong>which
            git</strong></span> should produce a path to git.</p><pre class="screen"><code class="prompt">$</code> <strong class="userinput"><code>which git</code></strong>
<code class="computeroutput">/usr/bin/git</code></pre></li><li class="listitem"><p>Now get the source:</p><pre class="screen"><code class="prompt">$</code> <strong class="userinput"><code>git clone https://github.com/Netatalk/netatalk.git netatalk-code
</code></strong><code class="computeroutput">Cloning into 'netatalk-code'...
remote: Enumerating objects: 41592, done.
...
Resolving deltas: 100% (32227/32227), done.
</code></pre><p>This will create a local directory called
            <code class="filename">netatalk-code</code> containing a complete and fresh
            copy of the whole Netatalk source tree from the Git
            repository.</p></li><li class="listitem"><p>If you don't specify a branch or tag, you will get the
            bleeding edge development code. In order to get the latest stable
            Netatalk 3.1 code, for instance, check out the branch named
            "branch-netatalk-3-1":</p><pre class="screen"><code class="prompt">$</code> <strong class="userinput"><code>git checkout branch-netatalk-3-1</code></strong></pre></li><li class="listitem"><p>In order to keep your repository copy updated, occasionally
            run:</p><pre class="screen"><code class="prompt">$</code> <strong class="userinput"><code>git pull</code></strong></pre></li></ol></div></div></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id-1.5.4"></a>Compiling Netatalk</h2></div></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="id-1.5.4.2"></a>Prerequisites</h3></div></div></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a id="id-1.5.4.2.2"></a>Required third-party software</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Berkeley DB<a id="id-1.5.4.2.2.2.1.1.1" class="indexterm"></a></p><p>The default dbd CNID backend for netatalk uses Berkeley DB
            to store unique file identifiers. At the time of writing you need
            at least version 4.6.</p><p>The recommended version is 5.3, the final release under the
            permissive Sleepycat license, and therefore the most widely
            available edition.</p></li><li class="listitem"><p>Libgcrypt</p><p>The <a class="ulink" href="http://directory.fsf.org/wiki/Libgcrypt" target="_top">
            Libgcrypt</a> library enables the DHX2 UAM, which is required
            to authenticate with OS X 10.7 and later.</p></li><li class="listitem"><p>libevent</p><p>Internal event callbacks in the netatalk service controller
            daemon are built on libevent version 2.</p></li></ul></div></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a id="id-1.5.4.2.3"></a>Optional third-party software</h4></div></div></div><p>Netatalk can use the following third-party software to enhance
        its functionality.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>OpenSSL / LibreSSL / WolfSSL</p><p>OpenSSL 1.1 or LibreSSL is needed for the older DHCAST128
            (a.k.a. DHX) UAM, which provides the strongest password encryption
            for Classic Mac OS. The older Random Number UAMs uses this
            library, too.</p><p>Note that as of netatalk 3.2.0, a bundled WolfSSL library is
            distributed with netatalk as the default DHX provider.</p></li><li class="listitem"><p>Tracker for Spotlight<a id="id-1.5.4.2.3.3.2.1.1" class="indexterm"></a> support</p><p>Netatalk uses <a class="ulink" href="https://tracker.gnome.org" target="_top">Tracker</a> as the metadata
            backend. The minimum required version is 0.7 as this was the first
            version to support <a class="ulink" href="https://gnome.pages.gitlab.gnome.org/tracker/" target="_top">SPARQL</a>.</p><p>Samba's talloc library, a Yacc parser such as bison, and a
            lexer like flex are also required for Spotlight.</p></li><li class="listitem"><p>mDNSresponder or Avahi for Bonjour</p><p>Mac OS X 10.2 and later uses Bonjour (a.k.a. Zeroconf) for
            automatic service discovery. Netatalk can advertise AFP file
            sharing and Time Machine volumes by using Avahi or
            mDNSResponder.</p><p>The Avahi library itself must be built with DBUS support (
            <strong class="userinput"><code>--enable-dbus</code></strong>).</p></li><li class="listitem"><p>TCP wrappers</p><p>Wietse Venema's network logger, also known as TCPD or
            LOG_TCP.</p><p>Security options are: access control per host, domain and/or
            service; detection of host name spoofing or host address spoofing;
            booby traps to implement an early-warning system.</p></li><li class="listitem"><p>PAM<a id="id-1.5.4.2.3.3.5.1.1" class="indexterm"></a></p><p>PAM provides a flexible mechanism for authenticating users.
            PAM was invented by SUN<a id="id-1.5.4.2.3.3.5.2.1" class="indexterm"></a> Microsystems. Linux-PAM is a suite of shared
            libraries that enable the local system administrator to choose how
            applications authenticate users.</p></li><li class="listitem"><p>Kerberos V</p><p>Kerberos v5 is a client-server based authentication protocol
            invented at the Massachusetts Institute of Technology. With the
            Kerberos library, netatalk can produce the GSS UAM library for
            authentication with existing Kerberos infrastructure.</p></li><li class="listitem"><p>ACL and LDAP</p><p>LDAP is an open and industry-standard user directory
            protocol that works in tandem with the advanced permissions scheme
            of ACL. On some operating systems ACL and LDAP libraries are built
            in to the system, while on others you have to install supporting
            packages to enable this functionality.</p></li><li class="listitem"><p>MySQL</p><p>By leveraging a MySQL-compatible client library, netatalk
            can be built with a MySQL CNID backend that is highly scalable and
            reliable. The administrator has to provide a separate database
            instance for use with this backend.</p></li><li class="listitem"><p>D-Bus and GLib bindings</p><p>Used by the <strong class="userinput"><code>afpstats</code></strong> tool to inquire
            afpd about file server usage statistics.</p></li><li class="listitem"><p>iconv</p><p>iconv provides conversion routines for many character
            encodings. Netatalk uses it to provide charsets it does not have
            built in conversions for, like ISO-8859-1. On glibc systems,
            Netatalk can use the glibc provided iconv implementation.
            Otherwise you can use the GNU libiconv implementation.</p></li><li class="listitem"><p>CrackLib</p><p>When using the Random Number UAMs and netatalk's own
            <strong class="userinput"><code>afppasswd</code></strong> password manager, CrackLib can
            help protect against setting weak passwords for authentication
            with netatalk.</p></li><li class="listitem"><p>Perl</p><p>Administrative utilities such as
            <strong class="userinput"><code>afpstats</code></strong>,
            <strong class="userinput"><code>apple_dump</code></strong>,
            <strong class="userinput"><code>asip-status</code></strong> and
            <strong class="userinput"><code>macusers</code></strong> rely on the Perl runtime, version
            5.8 or later. The required Perl modules include
            <span class="emphasis"><em>IO::Socket::IP</em></span> (asip-status) and
            <span class="emphasis"><em>Net::DBus</em></span> (afpstats).</p></li><li class="listitem"><p>DocBook XSL and xsltproc</p><p>The netatalk documentation (such as this manual) are
            authored in XML format, and then styled with DocBook XSL
            stylesheets. We rely on xsltproc to transcode the XML to other
            human-readable formats.</p></li></ul></div></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="compiling-netatalk"></a>Configure and build<a id="id-1.5.4.3.1.1" class="indexterm"></a> Netatalk</h3></div></div></div><p>Instructions on how to use the build system to configure and build
      netatalk source code are documented in the <a class="ulink" href="https://github.com/Netatalk/netatalk/blob/main/INSTALL" target="_top">INSTALL</a>
      file in the Netatalk source tree.</p><p>For examples of concrete steps to compile on specific operating
      systems, refer to the <a class="link" href="compile.html" title="Appendix A. Compile Netatalk from Source">Compile Netatalk from
      Source</a> appendix in this manual, which is automatically generated
      from the CI build scripts.</p></div></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id-1.5.5"></a>Starting and stopping Netatalk</h2></div></div></div><p>The Netatalk distribution comes with several operating system
    specific startup script templates that are tailored according to the
    options given to the build system before compiling. Currently, templates
    are provided for systemd, openrc, in addition to platform specific scripts
    for popular Linux distributions, BSD variants, Solaris descendants, and
    macOS.</p><p>When building from source, you can configure the build system to
    install the generated startup script(s) <a id="id-1.5.5.3.1" class="indexterm"></a> you want by specifying an <code class="option">with-init-style</code>
    option. For the specific syntax, please refer to the build system's help
    text.</p><p>Since new releases of Linux distributions appear all the time and
    the startup procedure for the other systems mentioned above might change
    as well, it is probably a good idea to not blindly install a startup
    script but to confirm first that it will work on your system.</p><p>If you use Netatalk as part of a fixed setup, like a Linux
    distribution, an RPM or a BSD package, things will probably have been
    arranged properly for you. The previous paragraphs therefore apply mostly
    for people who have compiled Netatalk themselves.</p><p>The following daemon need to be started by whatever startup script
    mechanism is used:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>netatalk<a id="id-1.5.5.7.1.1.1" class="indexterm"></a></p></li></ul></div><p>In the absence of a startup script, you can also launch this daemon
    directly (as root), and kill it with SIGTERM when you are done with
    it.</p><p>Additionally, make sure that the configuration file
    <code class="filename">afp.conf</code> is in the right place. You can inquire
    netatalk where it is expecting the file to be by running the
    <strong class="userinput"><code>netatalk -V</code></strong> command.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="intro.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="configuration.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 1. Introduction </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Chapter 3. Setting up Netatalk</td></tr></table></div></body>
</html>
