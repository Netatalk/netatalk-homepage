<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Netatalk Wiki - Installing Netatalk on Fedora Linux</title>
    <meta name="description" content="Netatalk Wiki">
    <link rel="canonical" href="https://netatalk.io/docs/Installing-Netatalk-on-Fedora-Linux">
    <link rel="stylesheet" type="text/css" href="https://netatalk.io/css/site.css" />
    <link rel="icon" type="image/x-icon" href="https://netatalk.io/gfx/favicon.ico" />
</head>
<body>
<div id="header">
    <div id="logo"></div>
    <div id="menlinks">
        <a href="/" title="Return to Netatalk home">[main]</a>
        <a href="/docs" title="Netatalk Wiki">[wiki]</a>
        <a href="/documentation.html" title="Netatalk Manual">[documentation]</a>
        <a href="/download.html" title="Download Netatalk">[downloads]</a>
        <a href="/support.html" title="Support">[support]</a>
        <a href="/links.html" title="Netatalk related links">[links]</a>
        <img src="/gfx/end.gif" alt="" width="125" height="7" />
    </div>
</div>

<div id="header-print">
    <h1>netatalk.io</h1>
</div>

<div class="search">
    <h2>search netatalk.io</h2>
    <form method="get" action="https://www.google.com/search">
        <p>
            <input type="text" name="q" size="10" maxlength="255" value="" title="enter search text" />
            <input type="hidden" name="sitesearch" value="netatalk.io" />
            <input type="submit" name="btnG" value="Go" title="search netatalk.io" />
        </p>
    </form>
    <span class="italic">powered by Google</span>
</div>

<div id="navbars">
<div class="navbar">
<h2>Table of contents</h2>
<p>Resources</p>
<ul>
<li><a class="wikilink" href="/docs/FAQ.html">FAQ</a></li>
<li><a class="wikilink" href="/docs/Troubleshooting.html">Troubleshooting</a></li>
<li><a class="wikilink" href="/docs/Connect-to-AFP-Server.html">Connect to AFP Server</a></li>
<li><a class="wikilink" href="/docs/Webmin-Module.html">Webmin Module</a></li>
<li><a class="wikilink" href="/docs/Benchmarks.html">Benchmarks</a></li>
</ul>
<p>OS Specific Guides</p>
<ul>
<li><a class="wikilink" href="/docs/Installing-Netatalk-on-Alpine-Linux.html">Installing Netatalk on Alpine Linux</a></li>
<li><a class="wikilink" href="/docs/Installing-Netatalk-on-Debian-Linux.html">Installing Netatalk on Debian Linux</a></li>
<li><a class="wikilink" href="/docs/Installing-Netatalk-on-Fedora-Linux.html">Installing Netatalk on Fedora Linux</a></li>
<li><a class="wikilink" href="/docs/Installing-Netatalk-on-FreeBSD.html">Installing Netatalk on FreeBSD</a></li>
<li><a class="wikilink" href="/docs/Installing-Netatalk-on-macOS.html">Installing Netatalk on macOS</a></li>
<li><a class="wikilink" href="/docs/Installing-Netatalk-on-NetBSD.html">Installing Netatalk on NetBSD</a></li>
<li><a class="wikilink" href="/docs/Installing-Netatalk-on-OmniOS.html">Installing Netatalk on OmniOS</a></li>
<li><a class="wikilink" href="/docs/Installing-Netatalk-on-OpenBSD.html">Installing Netatalk on OpenBSD</a></li>
<li><a class="wikilink" href="/docs/Installing-Netatalk-on-OpenIndiana.html">Installing Netatalk on OpenIndiana</a></li>
<li><a class="wikilink" href="/docs/Installing-Netatalk-on-openSUSE.html">Installing Netatalk on openSUSE</a></li>
<li><a class="wikilink" href="/docs/Installing-Netatalk-on-Solaris.html">Installing Netatalk on Solaris</a></li>
<li><a class="wikilink" href="/docs/Installing-Netatalk-on-Ubuntu.html">Installing Netatalk on Ubuntu</a></li>
</ul>
<p>Technical Docs</p>
<ul>
<li><a class="wikilink" href="/docs/CatalogSearch.html">CatalogSearch</a></li>
<li><a class="wikilink" href="/docs/Kerberos.html">Kerberos</a></li>
<li><a class="wikilink" href="/docs/Special-Files-and-Folders.html">Special Files and Folders</a></li>
<li><a class="wikilink" href="/docs/Spotlight.html">Spotlight</a></li>
<li><a class="wikilink" href="/docs/AppleTalk-Kernel-Module.html">AppleTalk Kernel Module</a></li>
<li><a class="wikilink" href="/docs/Print-Server.html">Print Server</a></li>
<li><a class="wikilink" href="/docs/MacIP-Gateway.html">MacIP Gateway</a></li>
</ul>
<p>Development</p>
<ul>
<li><a class="wikilink" href="/docs/Roadmap.html">Roadmap</a></li>
<li><a class="wikilink" href="/docs/Developer-Notes.html">Developer Notes</a></li>
<li><a class="wikilink" href="/docs/Developer-FAQ.html">Developer FAQ</a></li>
<li><a class="wikilink" href="/docs/Work-with-Documentation.html">Work with Documentation</a></li>
<li><a class="wikilink" href="/docs/Release-Process.html">Release Process</a></li>
<li><a class="wikilink" href="/docs/Testing.html">Testing</a></li>
<li><a class="wikilink" href="/docs/Using-GDB-to-Analyze-a-Crash.html">Using GDB to Analyze a Crash</a></li>
</ul>
</div></div>
<div id="content">
<h1 id="Installing-Netatalk-on-Fedora-Linux">Installing Netatalk on Fedora Linux</h1>
<h1>Install the latest Netatalk</h1>
<p>The easiest way to get Netatalk on Fedora is to install the <a href="https://src.fedoraproject.org/rpms/netatalk">netatalk</a> RPM package with <code>dnf</code>.</p>
<p>For building and installing from source yourself, find the official documentation below.</p>
<ul>
<li><strong><a href="https://netatalk.io/stable/htmldocs/compile#build-fedora">Compile Netatalk from Source: Fedora Linux</a></strong> in the Manual</li>
<li><strong><a href="https://github.com/Netatalk/netatalk/blob/main/INSTALL.md">INSTALL.md</a></strong> in the source tree</li>
</ul>
<h2>AppleTalk</h2>
<p>If you want to use Netatalk as an AppleTalk server, you may need to install the <code>kernel-modules-extra</code> subpackage if not already present on your system.</p>
<p>Then you need to remove Fedora&rsquo;s default blacklist of the <code>appletalk</code> kernel module.
This can be achieved by editing the following file and commenting out the line that says &ldquo;blacklist appletalk&rdquo;.</p>
<p><code>/etc/modprobe.d/appletalk-blacklist.conf</code></p>
<p>This will allow Fedora to load the <code>appletalk</code> kernel module.</p>
<p>Note: Do <em>not</em> delete this file. The system will simply recreate it at a later point.</p>
<h1>Netatalk v4</h1>
<p>Since Fedora 41, Netatatalk 4.0 is available as an rpm package, and can be installed with dnf or your favorite package manager.</p>
<pre><code>sudo dnf install --assumeyes netatalk
</code></pre>
<p>Note that if you upgraded from Fedora 40 to 41, you may have to update your PAM configuration to avoid an authentication error. See <a href="https://github.com/Netatalk/netatalk/issues/1807">issue#1807</a> for further details.</p>
<h1>Netatalk v3</h1>
<p>This installation guide was originally written for Netatalk 3.2.0 on Fedora 39.</p>
<p>It describes the steps for using the Autotools build system, which was removed in Netatalk 4.0.0.
For building Netatalk v4, please see the links above.</p>
<h2>Required Packages</h2>
<p>Install the following packages by <code>dnf</code>.</p>
<ul>
<li><code>gcc</code></li>
<li><code>libtool</code></li>
<li><code>make</code></li>
<li><code>automake</code></li>
<li><code>libevent-devel</code> (used by netatalk(8))</li>
<li><code>libdb-devel</code> (dbd CNID backend)</li>
<li><code>libgcrypt-devel</code> (DHX2 auth)</li>
<li><code>openssl-devel</code> or <code>libressl-devel</code> (DHX auth aka DHCAST128)</li>
<li><code>krb5-devel</code> (Kerberos V auth)</li>
<li><code>pam-devel</code> (PAM)</li>
<li><code>avahi-devel</code> (Bonjour support)</li>
<li><code>cracklib-devel</code> (password check)</li>
<li><code>libacl-devel</code> (ACL support)</li>
<li><code>openldap-devel</code> (enhanced ACL support)</li>
<li><code>dbus-devel</code> (used by afpstats command)</li>
<li><code>dbus-glib-devel</code> (used by afpstats command)</li>
<li><code>glib2-devel</code> (used by afpstats command)</li>
<li><code>perl-IO-Socket-INET6</code> (used by asip-status command)</li>
<li><code>perl-IO-Socket-IP</code> (used by asip-status command)</li>
<li><code>systemtap-sdt-devel</code> (DTrace-compatible)</li>
<li><code>tracker</code> (used for spotlight indexing)</li>
<li><code>tracker-devel</code> (used for spotlight indexing)</li>
<li><code>libtalloc-devel</code> (spotlight dependency)</li>
<li><code>bison</code> (spotlight dependency)</li>
<li><code>flex</code> (spotlight dependency)</li>
<li><code>quota-devel</code> (quota support)</li>
</ul>
<h2>Build</h2>
<p>Get the tarball from <a href="http://netatalk.io/">Netatalk Web Site</a> and extract it,
or clone the git repo from GitHub.</p>
<p>If cloned from git repo, run bootstrap to generate the build files.</p>
<p><code>$ ./bootstrap</code></p>
<p>You should read the configure help message, in order to know configure
options.</p>
<p>If the applicable libraries are installed, many options will be detected
automatically.</p>
<p><code>$ ./configure --help</code></p>
<p>Do configure! The following options are not auto-detected.</p>
<pre><code>$ ./configure \
   --with-init-style=redhat-systemd \
   --with-cracklib \
   --enable-krbV-uam \
   --with-pam-confdir=/etc/pam.d \
   --with-dbus-sysconf-dir=/etc/dbus-1/system.d \
   --with-tracker-pkgconfig-version=3.0
</code></pre>
<p>The version 3.0 <code>--with-tracker-pkgconfig-version=3.0</code> must match the
pkg-config version of the installed Tracker libraries. Use the following
commands for finding the version info:</p>
<pre><code>$ pkg-config --list-all | grep tracker
...
</code></pre>
<p>On successful completion, you will see a report similar to the
following:</p>
<pre><code>Compilation summary:

   CPPFLAGS       = -I$(top_srcdir)/include -I$(top_builddir)/include -I$(top_srcdir)
   CFLAGS         = -D_U_=&quot;__attribute__((unused))&quot; -g -O2
   LIBS           =  -lcrack
   PTHREADS:
       LIBS   = -lpthread
       CFLAGS = -pthread
   TRACKER:
       LIBS   = -ltracker-sparql-3.0 -lgio-2.0 -lgobject-2.0 -lglib-2.0
       CFLAGS = -I/usr/include/tracker-3.0 -I/usr/include/tracker-3.0/libtracker-sparql -I/usr/include/glib-2.0 -I/usr/lib64/glib-2.0/include -I/usr/include/gio-unix-2.0 -I/usr/include/json-glib-1.0 -I/usr/include/libxml2 -I/usr/include/libmount -I/usr/include/blkid -I/usr/include/sysprof-6 -pthread
   SSL:
       LIBS   =  -L/usr/lib64 -lcrypto
       CFLAGS =  -I/usr/include/openssl
   LIBGCRYPT:
       LIBS   = -lgcrypt -lgpg-error
       CFLAGS =
   PAM:
       LIBS   =  -lpam
       CFLAGS =
   WRAP:
       LIBS   =
       CFLAGS =
   BDB:
       LIBS   =  -L/usr/lib64 -ldb-5.3
       CFLAGS =
   GSSAPI:
       LIBS   = -lgssapi_krb5 -lkrb5 -lk5crypto -lcom_err
       CFLAGS =
   ZEROCONF:
       LIBS   =  -lavahi-common -lavahi-client
       CFLAGS =  -D_REENTRANT
   LDAP:
       LIBS   =  -lldap
       CFLAGS =
   LIBEVENT:
       LIBS   = -levent
       CFLAGS =
   TALLOC:
       LIBS   =
       CFLAGS =

Configure summary:

   INIT STYLE:
        redhat-systemd
   AFP:
        Extended Attributes: ad | sys
        ACL support: yes
        Spotlight: yes
   CNID:
        backends:  dbd last
   UAMS:
        DHX     (PAM SHADOW)
        DHX2    (PAM SHADOW)
        RANDNUM (afppasswd)
        Kerberos V
        clrtxt  (PAM SHADOW)
        guest
   Options:
        Zeroconf support:        yes
        tcp wrapper support:     no
        valid shell check:       yes
        cracklib support:        yes
        ACL support:             auto
        Kerberos support:        yes
        LDAP support:            yes
        AFP stats via dbus:      yes
        dtrace probes:           yes
   Paths:
        Netatalk lockfile:       /var/lock/netatalk
        init directory:          /usr/lib/systemd/system
        dbus system directory:   /etc/dbus-1/system.d
        dbus daemon path:        /bin/dbus-daemon
        tracker prefix:          /usr
        tracker install prefix:  /usr
        tracker manager:         /usr/bin/tracker3 daemon
        pam config directory:    /etc/pam.d
   Documentation:
        Docbook:                 no
</code></pre>
<p>Docbook is not needed because it is for developers only, when
regenerating documentation.</p>
<p>Make and install.</p>
<pre><code>$ make
# make install
</code></pre>
<h2>Check</h2>
<p>Check features and paths, using <code>netatalk -V</code> and <code>afpd -V</code>.</p>
<h2>Setting</h2>
<p>Edit <code>/usr/local/etc/afp.conf</code>.</p>
<p>Ex:</p>
<pre><code>[Global]

[Homes]

   basedir regex = /home

[Test Volume]

   path = /export/test1

[My Time Machine Volume]

   path = /export/timemachine
   time machine = yes
</code></pre>
<p>You should check the firewall. AFP&rsquo;s port number is <code>548</code>. Zeroconf&rsquo;s
port number is <code>5353</code>.</p>
<h2>Enabling and Starting</h2>
<pre><code># systemctl enable netatalk
# systemctl start netatalk
</code></pre>
<h1>Netatalk v2</h1>
<p>Netatalk 2.2 works well on Fedora (tested on Fedora 38 and 39 for x86-64) with just a few wrinkles.  The steps are the same for Fedora Workstation and Fedora Server.  This guide does not replace <a href="https://netatalk.io/oldstable/htmldocs/">the full documentation</a>; instead it supplements it.</p>
<h1>Prepare the environment</h1>
<p>First up, the prerequisites.  Install them with this command:</p>
<p><code>dnf install openssl-devel libgcrypt-devel libdb-devel automake libtool avahi-devel cups-devel</code></p>
<h1>Compiling and installing</h1>
<p>After that, untar netatalk and go into its directory.  (I&rsquo;m using 2.2.10 here as an example, adjust the filenames as required for other versions).</p>
<p>Type <code>tar jxvf netatalk-2.2.10.tar.bz2</code> to untar and then <code>cd netatalk-2.2.10</code></p>
<p>When configuring, use the <code>--enable-redhat-systemd</code> option:
<code>./configure --enable-redhat-systemd</code></p>
<p>Build netatalk (you can change the number 4 to the number of CPU cores you have to get the fastest possible compile):
<code>make -j4</code> </p>
<p>And install (you must be root here or use <code>sudo</code>):
<code>make install</code></p>
<h1>Some quick configuration examples</h1>
<p>The configuration files after install can be found in <code>/usr/local/etc/netatalk</code>.  </p>
<p>For <code>afpd.conf</code>, here&rsquo;s an example server line that I use.</p>
<p><code>"Gozer" -transall -uamlist uams_guest.so,uams_clrtxt.so,uams_dhx2.so</code></p>
<p>This names the server &ldquo;Gozer&rdquo; when it appears in the Chooser on connected Macs and allows either guest access or access by logging in with a valid username and password on your Fedora system.  This works well for Mac System 7 and 8 clients (both real and emulated) all the way up to present day macOS Sonoma (press Command-K in the Finder and type <code>afp://</code> followed by the IP address or DNS name of your Fedora system).  If you are not going to connect with a System 7 client, it is strongly recommended to remove <code>uams_clrtxt.so</code> from your server config line for security reasons.</p>
<p>To set up shared volumes, edit <code>AppleVolumes.default</code>.  Here is an example line that I use.</p>
<p><code>/data/A2 Apple_II</code></p>
<p>This causes a volume named &ldquo;Apple_II&rdquo; to appear to connected machines, and its files come from the UNIX path /data/A2.</p><hr />
    <p>
        This is a mirror of the Netatalk GitHub Wiki.
        Please <a href="https://github.com/Netatalk/netatalk/wiki/Installing-Netatalk-on-Fedora-Linux">visit the original page</a>
        if you want to correct an error or contribute new contents.
    </p>
    <p>Last updated 2025-01-25</p>
    <hr />
    </div>
<div class="footer">
    <a href="https://validator.w3.org/check?uri=referer">
      <img src="https://www.w3.org/Icons/valid-xhtml10" alt="Valid XHTML 1.0 Strict" height="31" width="88" />
    </a>
    <a href="https://jigsaw.w3.org/css-validator/check?uri=referer">
      <img style="border:0;width:88px;height:31px"
      src="https://jigsaw.w3.org/css-validator/images/vcss" alt="Valid CSS!" />
    </a>
    <p>Netatalk and the Netatalk website are licensed under the <a href="/stable/htmldocs/gpl">GNU
    General Public License 2.0</a>.</p>
</div>
</body>
</html>
