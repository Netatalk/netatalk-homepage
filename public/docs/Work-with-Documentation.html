<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Netatalk Wiki - Work with Documentation</title>
    <meta name="description" content="Netatalk Wiki">
    <link rel="canonical" href="https://netatalk.io/docs/Work-with-Documentation">
    <link rel="stylesheet" type="text/css" href="https://netatalk.io/css/site.css" />
    <link rel="icon" type="image/x-icon" href="https://netatalk.io/gfx/favicon.ico" />
</head>
<body>
<div id="header">
    <div id="logo"></div>
    <div id="menlinks">
        <a href="/" title="Return to Netatalk home">[main]</a>
        <a href="/docs" title="Netatalk Wiki">[wiki]</a>
        <a href="/documentation.html" title="Netatalk Manual">[documentation]</a>
        <a href="/download.html" title="Download Netatalk">[downloads]</a>
        <a href="/support.html" title="Support">[support]</a>
        <a href="/links.html" title="Netatalk related links">[links]</a>
        <img src="/gfx/end.gif" alt="" width="125" height="7" />
    </div>
</div>

<div id="header-print">
    <h1>netatalk.io</h1>
</div>

<div class="search">
    <h2>search netatalk.io</h2>
    <form method="get" action="https://www.google.com/search">
        <p>
            <input type="text" name="q" size="10" maxlength="255" value="" title="enter search text" />
            <input type="hidden" name="sitesearch" value="netatalk.io" />
            <input type="submit" name="btnG" value="Go" title="search netatalk.io" />
        </p>
    </form>
    <span class="italic">powered by Google</span>
</div>

<div id="navbars">
<div class="navbar">
<h2>Table of contents</h2>
<p>Resources</p>
<ul>
<li><a class="wikilink" href="/docs/FAQ.html">FAQ</a></li>
<li><a class="wikilink" href="/docs/Troubleshooting.html">Troubleshooting</a></li>
<li><a class="wikilink" href="/docs/Connect-to-AFP-Server.html">Connect to AFP Server</a></li>
<li><a class="wikilink" href="/docs/Webmin-Module.html">Webmin Module</a></li>
<li><a class="wikilink" href="/docs/Benchmarks.html">Benchmarks</a></li>
</ul>
<p>Install Netatalk</p>
<ul>
<li><a class="wikilink" href="/docs/Installing-Netatalk-on-Alpine-Linux.html">Installing Netatalk on Alpine Linux</a></li>
<li><a class="wikilink" href="/docs/Installing-Netatalk-on-Debian-Linux.html">Installing Netatalk on Debian Linux</a></li>
<li><a class="wikilink" href="/docs/Installing-Netatalk-on-Fedora-Linux.html">Installing Netatalk on Fedora Linux</a></li>
<li><a class="wikilink" href="/docs/Installing-Netatalk-on-FreeBSD.html">Installing Netatalk on FreeBSD</a></li>
<li><a class="wikilink" href="/docs/Installing-Netatalk-on-macOS.html">Installing Netatalk on macOS</a></li>
<li><a class="wikilink" href="/docs/Installing-Netatalk-on-NetBSD.html">Installing Netatalk on NetBSD</a></li>
<li><a class="wikilink" href="/docs/Installing-Netatalk-on-OmniOS.html">Installing Netatalk on OmniOS</a></li>
<li><a class="wikilink" href="/docs/Installing-Netatalk-on-OpenBSD.html">Installing Netatalk on OpenBSD</a></li>
<li><a class="wikilink" href="/docs/Installing-Netatalk-on-OpenIndiana.html">Installing Netatalk on OpenIndiana</a></li>
<li><a class="wikilink" href="/docs/Installing-Netatalk-on-openSUSE.html">Installing Netatalk on openSUSE</a></li>
<li><a class="wikilink" href="/docs/Installing-Netatalk-on-Solaris.html">Installing Netatalk on Solaris</a></li>
<li><a class="wikilink" href="/docs/Installing-Netatalk-on-Ubuntu.html">Installing Netatalk on Ubuntu</a></li>
</ul>
<p>Technical Docs</p>
<ul>
<li><a class="wikilink" href="/docs/CatalogSearch.html">CatalogSearch</a></li>
<li><a class="wikilink" href="/docs/Kerberos.html">Kerberos</a></li>
<li><a class="wikilink" href="/docs/Special-Files-and-Folders.html">Special Files and Folders</a></li>
<li><a class="wikilink" href="/docs/Spotlight.html">Spotlight</a></li>
<li><a class="wikilink" href="/docs/AppleTalk-Kernel-Module.html">AppleTalk Kernel Module</a></li>
<li><a class="wikilink" href="/docs/Print-Server.html">Print Server</a></li>
</ul>
<p>Development</p>
<ul>
<li><a class="wikilink" href="/docs/Developer-Notes.html">Developer Notes</a></li>
<li><a class="wikilink" href="/docs/Developer-FAQ.html">Developer FAQ</a></li>
<li><a class="wikilink" href="/docs/Work-with-Documentation.html">Work with Documentation</a></li>
<li><a class="wikilink" href="/docs/Release-Process.html">Release Process</a></li>
<li><a class="wikilink" href="/docs/Using-GDB-to-Analyze-a-Crash.html">Using GDB to Analyze a Crash</a></li>
</ul>
</div></div>
<div id="content">
<h1 id="Work-with-Documentation">Work with Documentation</h1><hr/>
<h1>Docbook</h1>
<p>Netatalk documentation is maintained in DocBook XML format, which can be transformed to human-readable formats for publishing.</p>
<h2>Updating Documentation</h2>
<p>The Netatalk documentation consists of two parts:
the *NIX manual pages in <a href="https://troff.org/">troff</a> format
and the <a href="https://netatalk.io/stable/htmldocs/">html manual</a> hosted on the website.
Both are generated from <a href="https://docbook.org/">docbook</a> XML sources housed under the
<code>doc/</code> directory in the source tree.</p>
<p>When making code changes that warrant an update to the documentation,
such as adding, changing or deprecating functionality, please make sure
the updates to the XML sources for the documentation are included as
part of the changeset in your PR.</p>
<p>If the changeset of your PR warrants a bullet point in the changelog,
please include an update to the NEWS file as part of your changeset as well.</p>
<h3>Docbook editor</h3>
<p>A free WYSIWYG editor with only one minor drawback is <a href="http://www.xmlmind.com/xmleditor/">XMLEditor from XMLmind</a>.</p>
<p>Drawback: in order to be able to edit any of the  nested xml files, you have to
&ldquo;promote&rdquo; them to valid Docbook files by referencing the Docbook DTD, insert as line 2+3:</p>
<pre><code>&lt;!DOCTYPE book PUBLIC &quot;-//OASIS//DTD DocBook XML V4.5//EN&quot;
&quot;http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd&quot;&gt;
</code></pre>
<p>These changes will however prevent XMLeditor from opening the master xml file
<code>manual.xml</code>. Before further processing or committing to git can be done,
these changes then have to be reverted for any changed file.</p>
<h2>Generating documentation</h2>
<p>We use DocBook XSL stylesheets to transform the Docbook XML to troff manual pages for installation on Unix like systems, or html pages for publishing on the web.
The Netatalk build system provides this facility through the <code>-Dbuild-manual</code> configure option, which uses the <code>xsltproc</code> tool on the back end. If your DocBook XSL stylesheet directory isn&rsquo;t automatically detected, use <code>-Dwith-docbook=[path]</code> to tell the build system where it is.</p>
<p>You can also run <code>xsltproc</code> directly, to experiment with various outputs.</p>
<p>Source a non-namespaced copy of docbook-xsl, f.e. from your OS&rsquo;s package
repo (on Debian use the <code>docbook-xsl</code> package <em>without</em> the <code>-ns</code> suffix) or from
<a href="https://sourceforge.net/projects/docbook/files/docbook-xsl/">SourceForge</a>,
then point the Netatalk build system to the absolute path of
where you installed the docbook-xsl styles.</p>
<p>At the time of writing, the final non-namespaced docbook-xsl release is
<em>docbook-xsl-1.79.1</em> on SourceForge. The packages published on GitHub
are namespaced by default. See <a href="https://github.com/docbook/xslt10-stylesheets/issues/65">this upstream
bug</a> for more
info.</p>
<p>Once all requirements are in place, the manual pages will be generated when building Netatalk.</p>
<pre><code>$Â meson setup build -Dwith-manual=true
$ meson compile -C build
</code></pre>
<p>The generated pages are then found under the build/doc/manual directory.</p>
<h3>Generate manual appendix</h3>
<p>Run a Python script to refresh the <em>Compilation</em> html manual appendix.
Refer to <code>doc/requirements.txt</code> for a list of required Python libraries.
Either install system Python libraries, or create a venv with pip.</p>
<p>Once the Python environment is prepared, execute the following script:</p>
<pre><code>$ cd doc
$ python3 generate_compile_docs.py 
Wrote to ./manual/compile.xml
Wrote to ./ja/manual/compile.xml
</code></pre>
<p>Commit the generated xml files to git in preparation for a new stable netatalk release.</p>
<h3>PDF manual</h3>
<p>If you want a local PDF manual for reading on the screen or printing, use something like <code>dblatex</code> to transform the XML sources to a variety of formats, including PDF.</p>
<pre><code>$ dblatex --pdf ./doc/manual/manual.xml
</code></pre><hr />
    <p>
        This is a mirror of the Netatalk GitHub Wiki.
        Please <a href="https://github.com/Netatalk/netatalk/wiki/Work-with-Documentation">visit the original page</a>
        if you want to correct an error or contribute new contents.
    </p>
    <p>Last updated 2024-09-30</p>
    <hr />
    </div>
<div class="footer">
    <a href="https://validator.w3.org/check?uri=referer">
      <img src="https://www.w3.org/Icons/valid-xhtml10" alt="Valid XHTML 1.0 Strict" height="31" width="88" />
    </a>
    <a href="https://jigsaw.w3.org/css-validator/check?uri=referer">
      <img style="border:0;width:88px;height:31px"
      src="https://jigsaw.w3.org/css-validator/images/vcss" alt="Valid CSS!" />
    </a>
</div>
</body>
</html>

