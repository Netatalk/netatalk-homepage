<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Netatalk Wiki - Installing Netatalk 2 on Fedora</title>
    <meta name="description" content="Netatalk Wiki">
    <link rel="canonical" href="https://netatalk.io/docs/Installing-Netatalk-2-on-Fedora">
    <link rel="stylesheet" type="text/css" href="https://netatalk.io/css/site.css" />
    <link rel="icon" type="image/x-icon" href="https://netatalk.io/gfx/favicon.ico" />
</head>
<body>
    <div id="header">
      <!-- header -->
      <div id="logo"></div>
      <div id="menlinks">
      <a href="/" title="Return to Netatalk home">[main]</a>
      <a href="/docs" title="Netatalk Wiki">[wiki]</a>
      <a href="/documentation.php" title="Netatalk Manual">[documentation]</a>
      <a href="/download.php" title="Download Netatalk">[downloads]</a>
      <a href="/support.php" title="Support">[support]</a>
      <a href="/links.php" title="Netatalk related links">[links]</a>
      <img src="/gfx/end.gif" alt="" width="125" height="7" />
      </div>
    </div>

    <div id="header-print">
      <h1>netatalk.sourceforge.net</h1>
    </div>

    <div class="search"> 
      <!-- search box -->
      <h2>search netatalk.sf.net</h2>
      <form method="get" action="https://www.google.com/search">
        <p> 
          <input type="text" name="q" size="10" maxlength="255" value="" title="enter search text" />
          <input type="hidden" name="sitesearch" value="netatalk.sourceforge.net" />
          <input type="submit" name="btnG" value="Go" title="search netatalk.sf.net" />
        </p>
      </form>
      <span class="italic">powered by Google</span>
    </div>
    <div id="navbars">
      <!-- the left navigation/search bar -->
      <div class="navbar">
        <h2>Table of contents</h2>
            <p><a class="wikilink" href="/docs/index.html">Home</a></p>
            <p><b>Resources</b></p>
            <ul>
            <li><a class="wikilink" href="/docs/FAQ.html">FAQ</a></li>
            <li><a class="wikilink" href="/docs/Troubleshooting.html">Troubleshooting</a></li>
            <li><a class="wikilink" href="/docs/Connect-to-AFP-Server-from-Mac-clients.html">Connect to AFP Server from Mac clients</a></li>
            <li><a class="wikilink" href="/docs/Installation-Notes.html">Installation Notes</a></li>
            </ul>
            <p><b>Netatalk v3 Installation</b></p>
            <ul>
            <li><a class="wikilink" href="/docs/Installing-Netatalk-3-on-Fedora.html">Installing Netatalk 3 on Fedora</a></li>
            <li><a class="wikilink" href="/docs/Installing-Netatalk-3-on-macOS.html">Installing Netatalk 3 on macOS</a></li>
            <li><a class="wikilink" href="/docs/Installing-Netatalk-3-on-Solaris-10.html">Installing Netatalk 3 on Solaris 10</a></li>
            <li><a class="wikilink" href="/docs/Installing-Netatalk-3-on-OpenIndiana.html">Installing Netatalk 3 on OpenIndiana</a></li>
            <li><a class="wikilink" href="/docs/Installing-Netatalk-3-on-OpenSUSE.html">Installing Netatalk 3 on OpenSUSE</a></li>
            <li><a class="wikilink" href="/docs/Installing-Netatalk-3-on-Ubuntu.html">Installing Netatalk 3 on Ubuntu</a></li>
            </ul>
            <p><b>Netatalk v2 Installation</b></p>
            <ul>
            <li><a class="wikilink" href="/docs/Installing-Netatalk-2-on-Debian.html">Installing Netatalk 2 on Debian</a></li>
            <li><a class="wikilink" href="/docs/Installing-Netatalk-2-on-Fedora.html">Installing Netatalk 2 on Fedora</a></li>
            <li><a class="wikilink" href="/docs/Installing-Netatalk-2-on-macOS.html">Installing Netatalk 2 on macOS</a></li>
            <li><a class="wikilink" href="/docs/Installing-Netatalk-2-on-OmniOS.html">Installing Netatalk 2 on OmniOS</a></li>
            </ul>
            <p><b>Technical Docs</b></p>
            <ul>
            <li><a class="wikilink" href="/docs/CatalogSearch.html">CatalogSearch</a></li>
            <li><a class="wikilink" href="/docs/Kerberos.html">Kerberos</a></li>
            <li><a class="wikilink" href="/docs/Special-Files-and-Folders.html">Special Files and Folders</a></li>
            <li><a class="wikilink" href="/docs/Spotlight.html">Spotlight</a></li>
            <li><a class="wikilink" href="/docs/AppleTalk-Kernel-Module.html">AppleTalk Kernel Module</a></li>
            <li><a class="wikilink" href="/docs/Print-Server.html">Print Server</a></li>
            </ul>
            <p><b>Development</b></p>
            <ul>
            <li><a class="wikilink" href="/docs/Developer-Notes.html">Developer Notes</a></li>
            <li><a class="wikilink" href="/docs/Using-GDB-to-Analyze-a-Crash.html">Using GDB to Analyze a Crash</a></li>
            </ul>
            </div>
        </div> <!-- /the left navigation/search bar -->
<div id="content"><!-- content -->
<h1 id="Installing-Netatalk-2-on-Fedora">Installing Netatalk 2 on Fedora</h1><hr/>
<p>Netatalk 2.2 works well on Fedora (tested on Fedora 38 and 39 for x86-64) with just a few wrinkles.  The steps are the same for Fedora Workstation and Fedora Server.  This guide does not replace <a href="https://netatalk.io/2.2/htmldocs/">the full documentation</a>; instead it supplements it.</p>
<h1>Prepare the environment</h1>
<p>First up, the prerequisites.  Install them with this command:</p>
<p><code>dnf install openssl-devel libgcrypt-devel libdb-devel automake libtool avahi-devel cups-devel</code></p>
<h1>Compiling and installing</h1>
<p>After that, untar netatalk and go into its directory.  (I&rsquo;m using 2.2.10 here as an example, adjust the filenames as required for other versions).</p>
<p>Type <code>tar jxvf netatalk-2.2.10.tar.bz2</code> to untar and then <code>cd netatalk-2.2.10</code></p>
<p>When configuring, use the <code>--enable-redhat-systemd</code> option:
<code>./configure --enable-redhat-systemd</code></p>
<p>Build netatalk (you can change the number 4 to the number of CPU cores you have to get the fastest possible compile):
<code>make -j4</code> </p>
<p>And install (you must be root here or use <code>sudo</code>):
<code>make install</code></p>
<p>Once installed, you&rsquo;ll need to remove Fedora&rsquo;s default blacklist of the atalk kernel module, by typing the following, either when logged in as root or with <code>sudo</code>:
<code>rm /etc/modprobe.d/appletalk-blacklist.conf</code></p>
<p>This will allow Fedora to load the <code>atalk</code> kernel module.</p>
<h1>Some quick configuration examples</h1>
<p>The configuration files after install can be found in <code>/usr/local/etc/netatalk</code>.  </p>
<p>For <code>afpd.conf</code>, here&rsquo;s an example server line that I use.</p>
<p><code>"Gozer" -transall -uamlist uams_guest.so,uams_clrtxt.so,uams_dhx2.so</code></p>
<p>This names the server &ldquo;Gozer&rdquo; when it appears in the Chooser on connected Macs and allows either guest access or access by logging in with a valid username and password on your Fedora system.  This works well for Mac System 7 and 8 clients (both real and emulated) all the way up to present day macOS Sonoma (press Command-K in the Finder and type <code>afp://</code> followed by the IP address or DNS name of your Fedora system).  If you are not going to connect with a System 7 client, it is strongly recommended to remove <code>uams_clrtxt.so</code> from your server config line for security reasons.</p>
<p>To set up shared volumes, edit <code>AppleVolumes.default</code>.  Here is an example line that I use.</p>
<p><code>/data/A2 Apple_II</code></p>
<p>This causes a volume named &ldquo;Apple_II&rdquo; to appear to connected machines, and its files come from the UNIX path /data/A2.</p><hr /><p>Last updated 2024-01-21</p>
<p>
    This is a mirror of the <a href="https://github.com/Netatalk/netatalk/wiki">Netatalk GitHub Wiki</a> -
    if you find an error or would like to contribute, please head over there.
</p>
<hr />
</div>
<!-- end content -->
<div class="footer">
    <span class="italic">webspace sponsored by</span><br />
    <a href="https://sourceforge.net/projects/netatalk">
      <img src="https://sflogo.sourceforge.net/sflogo.php?group_id=8642&amp;type=11"
       width="120" height="30"
       alt="Get netatalk at SourceForge.net. Fast, secure and Free Open Source software downloads" />
    </a>
    <a href="https://validator.w3.org/check?uri=referer">
      <img src="https://www.w3.org/Icons/valid-xhtml10" alt="Valid XHTML 1.0 Strict" height="31" width="88" />
    </a> 
    <a href="https://jigsaw.w3.org/css-validator/check?uri=referer">
      <img style="border:0;width:88px;height:31px"
      src="https://jigsaw.w3.org/css-validator/images/vcss" alt="Valid CSS!" />
    </a>
  </div>
  </body>
  </html>
