<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Netatalk Wiki - Connect to AFP Server from Mac clients</title>
    <meta name="description" content="Netatalk Wiki">
    <link rel="canonical" href="https://netatalk.io/docs/Connect-to-AFP-Server-from-Mac-clients">
    <link rel="stylesheet" type="text/css" href="https://netatalk.io/css/site.css" />
    <link rel="icon" type="image/x-icon" href="https://netatalk.io/gfx/favicon.ico" />
</head>
<body>
<div id="header">
    <div id="logo"></div>
    <div id="menlinks">
        <a href="/" title="Return to Netatalk home">[main]</a>
        <a href="/docs" title="Netatalk Wiki">[wiki]</a>
        <a href="/documentation.html" title="Netatalk Manual">[documentation]</a>
        <a href="/download.html" title="Download Netatalk">[downloads]</a>
        <a href="/support.html" title="Support">[support]</a>
        <a href="/links.html" title="Netatalk related links">[links]</a>
        <img src="/gfx/end.gif" alt="" width="125" height="7" />
    </div>
</div>

<div id="header-print">
    <h1>netatalk.io</h1>
</div>

<div class="search">
    <h2>search netatalk.io</h2>
    <form method="get" action="https://www.google.com/search">
        <p>
            <input type="text" name="q" size="10" maxlength="255" value="" title="enter search text" />
            <input type="hidden" name="sitesearch" value="netatalk.io" />
            <input type="submit" name="btnG" value="Go" title="search netatalk.io" />
        </p>
    </form>
    <span class="italic">powered by Google</span>
</div>

<div id="navbars">
<div class="navbar">
<h2>Table of contents</h2>
<p>Resources</p>
<ul>
<li><a class="wikilink" href="/docs/FAQ.html">FAQ</a></li>
<li><a class="wikilink" href="/docs/Troubleshooting.html">Troubleshooting</a></li>
<li><a class="wikilink" href="/docs/Connect-to-AFP-Server-from-Mac-clients.html">Connect to AFP Server from Mac clients</a></li>
<li><a class="wikilink" href="/docs/Installation-Notes.html">Installation Notes</a></li>
<li><a class="wikilink" href="/docs/Webmin-Module.html">Webmin Module</a></li>
<li><a class="wikilink" href="/docs/Benchmarks.html">Benchmarks</a></li>
</ul>
<p>Netatalk v3 Installation</p>
<ul>
<li><a class="wikilink" href="/docs/Installing-Netatalk-3-on-Fedora.html">Installing Netatalk 3 on Fedora</a></li>
<li><a class="wikilink" href="/docs/Installing-Netatalk-3-on-macOS.html">Installing Netatalk 3 on macOS</a></li>
<li><a class="wikilink" href="/docs/Installing-Netatalk-3-on-Solaris-10.html">Installing Netatalk 3 on Solaris 10</a></li>
<li><a class="wikilink" href="/docs/Installing-Netatalk-3-on-OpenIndiana.html">Installing Netatalk 3 on OpenIndiana</a></li>
<li><a class="wikilink" href="/docs/Installing-Netatalk-3-on-OpenSUSE.html">Installing Netatalk 3 on OpenSUSE</a></li>
<li><a class="wikilink" href="/docs/Installing-Netatalk-3-on-Ubuntu.html">Installing Netatalk 3 on Ubuntu</a></li>
</ul>
<p>Netatalk v2 Installation</p>
<ul>
<li><a class="wikilink" href="/docs/Installing-Netatalk-2-on-Debian.html">Installing Netatalk 2 on Debian</a></li>
<li><a class="wikilink" href="/docs/Installing-Netatalk-2-on-Fedora.html">Installing Netatalk 2 on Fedora</a></li>
<li><a class="wikilink" href="/docs/Installing-Netatalk-2-on-macOS.html">Installing Netatalk 2 on macOS</a></li>
<li><a class="wikilink" href="/docs/Installing-Netatalk-2-on-OmniOS.html">Installing Netatalk 2 on OmniOS</a></li>
</ul>
<p>Technical Docs</p>
<ul>
<li><a class="wikilink" href="/docs/CatalogSearch.html">CatalogSearch</a></li>
<li><a class="wikilink" href="/docs/Kerberos.html">Kerberos</a></li>
<li><a class="wikilink" href="/docs/Special-Files-and-Folders.html">Special Files and Folders</a></li>
<li><a class="wikilink" href="/docs/Spotlight.html">Spotlight</a></li>
<li><a class="wikilink" href="/docs/AppleTalk-Kernel-Module.html">AppleTalk Kernel Module</a></li>
<li><a class="wikilink" href="/docs/Print-Server.html">Print Server</a></li>
</ul>
<p>Development</p>
<ul>
<li><a class="wikilink" href="/docs/Developer-Notes.html">Developer Notes</a></li>
<li><a class="wikilink" href="/docs/Using-GDB-to-Analyze-a-Crash.html">Using GDB to Analyze a Crash</a></li>
<li><a class="wikilink" href="/docs/Release-Process.html">Release Process</a></li>
</ul>
<p><a href="https://netatalk.sourceforge.io/docs"><img src="https://netatalk.sourceforge.io/gfx/daemon.gif" alt="Netatalk Logo"/></a></p>
</div></div>
<div id="content">
<h1 id="Connect-to-AFP-Server-from-Mac-clients">Connect to AFP Server from Mac clients</h1><hr/>
<h1>Classic Mac Network Basics</h1>
<p>Getting started with Netatalk, or AFP file sharing in general, on
Classic Mac OS and earlier OSX can be a daunting task. This page aims to
summarize a handful of tips &amp; tricks for getting started with and
troubleshooting your vintage Mac network.</p>
<h2>Connect with TCP</h2>
<p>If you have configured Netatalk with support for Zeroconf (for Mac OS X
10.2 or later) or SLP (for Mac OS X 10.0 and 10.1) service discovery
should work, and the file server should automatically be listed in the
Network drawer.</p>
<p>In Classic Mac OS, you have to enter the IP address to the AFP file
server manually with the stock AppleShare Client.</p>
<p>AFP over TCP can be used on Mac OS 7.1 and later. Mac OS 8.1 and later
supports AFP over TCP out of the box, but on older versions you need to
install <a href="https://macintoshgarden.org/apps/appleshare-client-372">AppleShare Client
3.7.4</a> (or
later.) You may also need to install <a href="https://macintoshgarden.org/apps/open-transport-13-gold-master">Open Transport
1.3</a> if
a compatible version of OT is not already installed.</p>
<p>Note that the AppleShare Client 3.7.4 will refuse to install on a 7.1
System, so you will have to copy the AppleShare extension over manually.</p>
<p>On Classic Mac OS, open the Chooser, click on AppleTalk, and then the
Server IP Address button.</p>
<p>On Mac OS X 10.8 or earlier, enter the Go menu, Connect to Server, enter
afp://[ip address], Connect, and then the same username and
password as above.</p>
<p>On Mac OS 9, you can use a <a href="https://github.com/dgsga/netatalk/blob/oldmacos/extension/Multicast%20DNS%20%26%20DNS-SD.sit">unofficial Apple extension</a> to enable support for Zeroconf service discovery.</p>
<h3>Troubleshooting</h3>
<p>Netatalk comes with a handy tool for inquiring the status of an AFP
server, <code>asip-status</code>, regardless of whether it&rsquo;s run by Netatalk or a
real Mac. Pass the ip (v4/v6) address or &ldquo;localhost&rdquo; to the script to
get a status summary of a running AFP server.</p>
<h2>Connect with AppleTalk (Netatalk 2)</h2>
<p>Note: You need to run Netatalk 2 in order to use AppleTalk networking.</p>
<p>AppleTalk is compatible with the oldest version of the Macintosh System
Software that supported networking, as well as network enabled Apple II
and Lisa systems, up until Mac OS X 10.8.</p>
<p>AFP over classic AppleTalk (DDP) is plug and play, with available
servers detected automatically if the <code>atalkd</code> daemon is running and has
registered the AFP server.</p>
<p>If your Mac has both LocalTalk (modem/printer port) and EtherTalk
(Ethernet) support, you can switch between the two in the AppleTalk
control panel. Make sure you have the correct AppleTalk network
configured before opening the Chooser.</p>
<p>On System 6.0.x and later, open up Chooser and select AppleTalk. The
file server should be detected automatically.</p>
<p>On Mac OS X 10.8 or earlier, open the Finder and select Network from the
left drawer. The file server should be detected automatically.</p>
<h3>Troubleshooting</h3>
<p>Bootstrapping an AppleTalk network can be fiddly on a modern network.</p>
<p>For AppleTalk routing to work on wireless networks, the Wi-Fi AP must be
AppleTalk compatible, for instance early Apple AirPort routers. See also
this <a href="https://68kmla.org/bb/index.php?threads/what-is-the-technical-reason-why-ddp-appletalk-doesnt-work-with-wifi.45811/">68kmla discussion
thread</a>.</p>
<p>The atalkd daemon will attempt to auto detect the loopback interface and
update its own atalkd.conf config file with address ranges and phase
settings. If the default configuration fails, edit the config file
manually to f.e. change to a different network interface. If atalkd
insists in rewriting its own config file in undesired ways, make the
file global read-only with file system privileges (chmod).</p>
<p>Inspect the AppleTalk network with the <code>nbplkup</code> (uses the NBP protocol
to look up registered servers.) For instance, turn on personal file
sharing on a Classic Mac OS system on the network (Apple&rsquo;s own AFP
server software) in addition to Netatalk. When you run <code>nbplkup</code> you
should see both the Mac&rsquo;s AFP server, as well as the Netatalk AFP
server. If you can see only the latter, the routing between the Netatalk
*NIX server and the Mac isn&rsquo;t working.</p>
<p>Sometimes the <code>atalkd</code> daemon fails to register the other services with
NBP. This can happen when the other daemons start before <code>atalkd</code>. In
this case, wait until <code>atalkd</code> is fully started, and then restart
<code>afpd</code>, <code>a2boot</code>, <code>papd</code>, and <code>timelord</code>.</p>
<h2>Mac Emulators</h2>
<p>The AFP share can be accessed also from within a Mac emulator with a
network bridge, such as Basilisk II.</p>
<p>In Basilisk II or SheepShaver, make sure you configure the emulator with
the <em>slirp</em> network interface, and install the AppleShare Client / Open
Transport software on the emulated system as instructed above. In the
TCP/IP control panel, configure DHCP and make sure you can ping the host
system with OTTool or similar utility. At this point, you should be able
to reach the shared drive through TCP, if not DDP.</p>
<h1>See Also</h1>
<ul>
<li><a href="http://www.applefool.com/se30/#afpnetwork">Classic Mac Networking
    Guide</a> by Mk.558</li>
<li><a href="https://68kmla.org/bb/index.php?threads/netatalk-anomalies.6128/">68kmla forum
    thread</a>
    about configuring Netatalk for System 7.x</li>
<li><a href="https://www.applefritter.com/node/21988">Applefritter thread</a> about
    AFP over TCP on System 7.x</li>
</ul><hr />
    <p>
        This is a mirror of the Netatalk GitHub Wiki.
        Please <a href="https://github.com/Netatalk/netatalk/wiki/Connect-to-AFP-Server-from-Mac-clients">visit the original page</a>
        if you want to correct an error or contribute new contents.
    </p>
    <p>Last updated 2024-03-25</p>
    <hr />
    </div>
<div class="footer">
    <a href="https://validator.w3.org/check?uri=referer">
      <img src="https://www.w3.org/Icons/valid-xhtml10" alt="Valid XHTML 1.0 Strict" height="31" width="88" />
    </a>
    <a href="https://jigsaw.w3.org/css-validator/check?uri=referer">
      <img style="border:0;width:88px;height:31px"
      src="https://jigsaw.w3.org/css-validator/images/vcss" alt="Valid CSS!" />
    </a>
</div>
</body>
</html>

