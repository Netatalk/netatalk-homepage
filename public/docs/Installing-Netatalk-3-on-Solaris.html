<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Netatalk Wiki - Installing Netatalk 3 on Solaris</title>
    <meta name="description" content="Netatalk Wiki">
    <link rel="canonical" href="https://netatalk.io/docs/Installing-Netatalk-3-on-Solaris">
    <link rel="stylesheet" type="text/css" href="https://netatalk.io/css/site.css" />
    <link rel="icon" type="image/x-icon" href="https://netatalk.io/gfx/favicon.ico" />
</head>
<body>
<div id="header">
    <div id="logo"></div>
    <div id="menlinks">
        <a href="/" title="Return to Netatalk home">[main]</a>
        <a href="/docs" title="Netatalk Wiki">[wiki]</a>
        <a href="/documentation.html" title="Netatalk Manual">[documentation]</a>
        <a href="/download.html" title="Download Netatalk">[downloads]</a>
        <a href="/support.html" title="Support">[support]</a>
        <a href="/links.html" title="Netatalk related links">[links]</a>
        <img src="/gfx/end.gif" alt="" width="125" height="7" />
    </div>
</div>

<div id="header-print">
    <h1>netatalk.io</h1>
</div>

<div class="search">
    <h2>search netatalk.io</h2>
    <form method="get" action="https://www.google.com/search">
        <p>
            <input type="text" name="q" size="10" maxlength="255" value="" title="enter search text" />
            <input type="hidden" name="sitesearch" value="netatalk.io" />
            <input type="submit" name="btnG" value="Go" title="search netatalk.io" />
        </p>
    </form>
    <span class="italic">powered by Google</span>
</div>

<div id="navbars">
<div class="navbar">
<h2>Table of contents</h2>
<p>Resources</p>
<ul>
<li><a class="wikilink" href="/docs/FAQ.html">FAQ</a></li>
<li><a class="wikilink" href="/docs/Troubleshooting.html">Troubleshooting</a></li>
<li><a class="wikilink" href="/docs/Connect-to-AFP-Server.html">Connect to AFP Server</a></li>
<li><a class="wikilink" href="/docs/Webmin-Module.html">Webmin Module</a></li>
<li><a class="wikilink" href="/docs/Benchmarks.html">Benchmarks</a></li>
</ul>
<p>Netatalk v3 Installation</p>
<ul>
<li><a class="wikilink" href="/docs/Installing-Netatalk-3-on-Fedora-Linux.html">Installing Netatalk 3 on Fedora Linux</a></li>
<li><a class="wikilink" href="/docs/Installing-Netatalk-3-on-FreeBSD.html">Installing Netatalk 3 on FreeBSD</a></li>
<li><a class="wikilink" href="/docs/Installing-Netatalk-3-on-macOS.html">Installing Netatalk 3 on macOS</a></li>
<li><a class="wikilink" href="/docs/Installing-Netatalk-3-on-OpenBSD.html">Installing Netatalk 3 on OpenBSD</a></li>
<li><a class="wikilink" href="/docs/Installing-Netatalk-3-on-OpenIndiana.html">Installing Netatalk 3 on OpenIndiana</a></li>
<li><a class="wikilink" href="/docs/Installing-Netatalk-3-on-openSUSE.html">Installing Netatalk 3 on openSUSE</a></li>
<li><a class="wikilink" href="/docs/Installing-Netatalk-3-on-Solaris.html">Installing Netatalk 3 on Solaris</a></li>
<li><a class="wikilink" href="/docs/Installing-Netatalk-3-on-Ubuntu.html">Installing Netatalk 3 on Ubuntu</a></li>
</ul>
<p>Netatalk v2 Installation</p>
<ul>
<li><a class="wikilink" href="/docs/Installing-Netatalk-2-on-Alpine-Linux.html">Installing Netatalk 2 on Alpine Linux</a></li>
<li><a class="wikilink" href="/docs/Installing-Netatalk-2-on-Debian-Linux.html">Installing Netatalk 2 on Debian Linux</a></li>
<li><a class="wikilink" href="/docs/Installing-Netatalk-2-on-Fedora-Linux.html">Installing Netatalk 2 on Fedora Linux</a></li>
<li><a class="wikilink" href="/docs/Installing-Netatalk-2-on-macOS.html">Installing Netatalk 2 on macOS</a></li>
<li><a class="wikilink" href="/docs/Installing-Netatalk-2-on-NetBSD.html">Installing Netatalk 2 on NetBSD</a></li>
<li><a class="wikilink" href="/docs/Installing-Netatalk-2-on-OmniOS.html">Installing Netatalk 2 on OmniOS</a></li>
</ul>
<p>Technical Docs</p>
<ul>
<li><a class="wikilink" href="/docs/CatalogSearch.html">CatalogSearch</a></li>
<li><a class="wikilink" href="/docs/Kerberos.html">Kerberos</a></li>
<li><a class="wikilink" href="/docs/Special-Files-and-Folders.html">Special Files and Folders</a></li>
<li><a class="wikilink" href="/docs/Spotlight.html">Spotlight</a></li>
<li><a class="wikilink" href="/docs/AppleTalk-Kernel-Module.html">AppleTalk Kernel Module</a></li>
<li><a class="wikilink" href="/docs/Print-Server.html">Print Server</a></li>
</ul>
<p>Development</p>
<ul>
<li><a class="wikilink" href="/docs/Developer-Notes.html">Developer Notes</a></li>
<li><a class="wikilink" href="/docs/Developer-FAQ.html">Developer FAQ</a></li>
<li><a class="wikilink" href="/docs/Work-with-Documentation.html">Work with Documentation</a></li>
<li><a class="wikilink" href="/docs/Release-Process.html">Release Process</a></li>
<li><a class="wikilink" href="/docs/Using-GDB-to-Analyze-a-Crash.html">Using GDB to Analyze a Crash</a></li>
</ul>
</div></div>
<div id="content">
<h1 id="Installing-Netatalk-3-on-Solaris">Installing Netatalk 3 on Solaris</h1><hr/>
<h1>Solaris 11</h1>
<p>Tested on <a href="https://www.oracle.com/solaris/solaris11/downloads/solaris-downloads.html">Solaris 11.4.42</a></p>
<h2>Prep work</h2>
<p>Install the latest SRU for Solaris 11 to get as modern packages as possible.</p>
<p>You may need to <a href="https://docs.oracle.com/cd/E23824_01/html/821-1455/dnsref-51.html">configure mDNS</a> in order for Zeroconf to work properly.</p>
<h2>Install required packages</h2>
<pre><code>pkg install \
  autoconf \
  automake \
  bison \
  flex \
  gcc \
  libevent \
  libgcrypt \
  libtool \
  pkg-config \
  tracker
</code></pre>
<h3>Build additional packages from source</h3>
<p>At the time of writing, you need to build autoconf, automake, and talloc from source.</p>
<pre><code>wget https://www.samba.org/ftp/talloc/talloc-2.4.1.tar.gz
wget https://ftp.gnu.org/gnu/autoconf/autoconf-2.71.tar.gz
wget https://ftp.gnu.org/gnu/automake/automake-1.16.5.tar.gz
tar xvf talloc-2.4.1.tar.gz
tar xvf autoconf-2.71.tar.gz
tar xvf automake-1.16.5.tar.gz
cd autoconf-2.71
./configure --prefix=/usr
make
make install
cd ../automake-1.16.5
./configure --prefix=/usr
make
make install
cd ../talloc-2.4.1
CC=gcc ./configure --prefix=/usr/local
make
make install
ln -s /usr/local/lib/pkgconfig/talloc.pc /usr/lib/amd64/pkgconfig/talloc.pc
cd ..
</code></pre>
<h2>Configure and build</h2>
<pre><code>./bootstrap
./configure \
  --enable-krbV-uam \
  --enable-pgp-uam \
  --with-init-style=solaris \
  --with-tracker-pkgconfig-version=2.0 \
  --without-afpstats \
  MAKE=gmake \
  PKG_CONFIG_PATH=/usr/lib/amd64/pkgconfig
</code></pre>
<p>If the output from configure looks up to standard, proceed with compiling and linking.</p>
<pre><code>gmake -j $(nproc)
</code></pre>
<h2>Install and launch</h2>
<p>Once the build process has completed without error, install the software (as root).</p>
<pre><code>gmake install
</code></pre>
<p>Manage the netatalk service with svcadm.</p>
<pre><code>svcadm enable svc:/network/netatalk:default
</code></pre>
<p>Enjoy!</p>
<h2>Meson build system</h2>
<p>This applies only if you are using the Meson build system instead of GNU Autotools (Netatalk 3.2 or later):</p>
<p>The base image of Solaris 11.4 comes with Meson v0.59.2 which is too old for Netatalk. Uninstall the stock Meson and install the one distributed by Python pip instead.</p>
<pre><code># pkg uninstall meson
# pkg update --accept
# pip install meson
</code></pre>
<p>Configure</p>
<pre><code># PKG_CONFIG_PATH=/usr/lib/amd64/pkgconfig meson setup build \
  -Dwith-init-style=solaris \
  -Dwith-tracker-pkgconfig-version=2.0
</code></pre>
<p>Build and install</p>
<pre><code># ninja -C build
# ninja -C build install
</code></pre>
<h1>Solaris 10</h1>
<p>Tested on <a href="https://www.oracle.com/solaris/solaris10/downloads/solaris10-get-jsp-downloads.html">Solaris 10 (1/13)</a></p>
<p>Note that the <a href="https://github.com/Netatalk/netatalk/discussions/629">last version known to work well on Solaris 10</a> is 3.1.8. You can get a pre-built package of this version from <a href="https://www.opencsw.org/packages/netatalk/">OpenCSW</a>.</p>
<p>Below follows instructions for building the software from scratch, if you so prefer.</p>
<h2>Prep work</h2>
<p>Install the <a href="https://www.opencsw.org/manual/for-administrators/getting-started.html">OpenCSW</a> repository and package manager.</p>
<p>Add paths to development tool dirs to the PATH variable, e.g. by adding this line to .profile</p>
<pre><code>PATH=$PATH:/usr/ccs/bin:/usr/sfw/bin:/opt/csw/bin
</code></pre>
<h2>Install netatalk package</h2>
<p>To install the prebuilt binary package for netatalk, do:</p>
<pre><code>pkgutil -y -i netatalk
</code></pre>
<h2>Build from source</h2>
<p>These instructions are for building netatalk from scratch.</p>
<h3>Install required packages</h3>
<pre><code>pkgutil -y -i git libtool automake autoconf pkgconfig gcc5core berkeleydb48_devel libgcrypt_dev libevent_dev
</code></pre>
<h3>Configure and build</h3>
<pre><code>./bootstrap
env PKG_CONFIG_PATH=/opt/csw/lib/pkgconfig ./configure \
    --with-init-style=solaris \
    --with-libgcrypt-dir=/opt/csw \
    --with-pam-confdir=/etc/pam.d \
    --with-bdb=/opt/csw/bdb48 \
    --with-mysql-config=no
make
make install
</code></pre>
<h2>Starting</h2>
<p>Start Netatalk.</p>
<pre><code>svcadm enable svc:/network/netatalk:default
</code></pre><hr />
    <p>
        This is a mirror of the Netatalk GitHub Wiki.
        Please <a href="https://github.com/Netatalk/netatalk/wiki/Installing-Netatalk-3-on-Solaris">visit the original page</a>
        if you want to correct an error or contribute new contents.
    </p>
    <p>Last updated 2024-06-01</p>
    <hr />
    </div>
<div class="footer">
    <a href="https://validator.w3.org/check?uri=referer">
      <img src="https://www.w3.org/Icons/valid-xhtml10" alt="Valid XHTML 1.0 Strict" height="31" width="88" />
    </a>
    <a href="https://jigsaw.w3.org/css-validator/check?uri=referer">
      <img style="border:0;width:88px;height:31px"
      src="https://jigsaw.w3.org/css-validator/images/vcss" alt="Valid CSS!" />
    </a>
</div>
</body>
</html>

