# netatalk-homepage
Netatalk html website.

The first layer of index pages are generated from fragments of static html.

Release notes as well as wiki documentation pages are static html generated from markdown sources hosted on GitHub.

Manual pages are static html generated with xsltproc from [XSL sources](https://github.com/Netatalk/netatalk/tree/main/doc) in the main Netatalk repo.

# New release procedure
- Create a news story at the top of `index.html.in`.
- Move an older news story to `archive.html.in`. Limit the number of news stories on `index.html.in` to about 4.
- Update the download and release note links in `templates/navbar.html`.
- Add link to release notes in `documentation.html.in`.
- Add the new netatalk release version to the "versions" list in `scripts/generate_releasenotes.py`
- Run the `run.sh` script, passing a GITHUB_TOKEN env variable with a valid GitHub API token.
- Validate the correctness and absence of spam in generated html sources in `public/`.
- Copy the html manual sources generated by docbook from `doc/manual/*.html` in the main netatalk repository to `public/x.y/htmldocs/`
- Commit all above changes and push to remote git.
- The web host (currently: CloudFlare) will automatically build and publish the site via a webhook trigger.

# See also
- [Netatalk release process wiki](https://github.com/Netatalk/netatalk/wiki/Developer-Notes#user-content-Making_a_release)
